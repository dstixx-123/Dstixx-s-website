"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e40aa00e-1512-5971-a35c-75922ad8cfa5")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[6764],{673779:(e,t,n)=>{let r=n(289232);e.exports=r},289232:(e,t,n)=>{var r=n(971166),i=n(528851),l=n(257176),o=n(133737);function s(e){throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?code=${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function a(e){let t=o.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return o.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?"":r.$generateHtmlFromNodes(e,t)}function u(e){let t=o.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return o.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(c(e,t))}function d(e,t,n){(o.DEPRECATED_$isGridSelection(n)||null!==l.$findMatchingParent(n.anchor.getNode(),e=>o.DEPRECATED_$isGridCellNode(e))&&null!==l.$findMatchingParent(n.focus.getNode(),e=>o.DEPRECATED_$isGridCellNode(e)))&&1===t.length&&o.DEPRECATED_$isGridNode(t[0])?function(e,t,n,r){let i,a;1===e.length&&o.DEPRECATED_$isGridNode(e[0])||s(42);var u=e[0];e=u.getChildren(),n=u.getFirstChildOrThrow().getChildrenSize();var d=u.getChildrenSize(),c=l.$findMatchingParent(t.anchor.getNode(),e=>o.DEPRECATED_$isGridCellNode(e));t=(u=c&&l.$findMatchingParent(c,e=>o.DEPRECATED_$isGridRowNode(e)))&&l.$findMatchingParent(u,e=>o.DEPRECATED_$isGridNode(e)),o.DEPRECATED_$isGridCellNode(c)&&o.DEPRECATED_$isGridRowNode(u)&&o.DEPRECATED_$isGridNode(t)||s(43);var f=u.getIndexWithinParent(),g=Math.min(t.getChildrenSize()-1,f+d-1);d=c.getIndexWithinParent(),c=Math.min(u.getChildrenSize()-1,d+n-1),n=Math.min(d,c),u=Math.min(f,g),d=Math.max(d,c),f=Math.max(f,g),g=t.getChildren(),c=0;for(let t=u;t<=f;t++){var h=g[t];o.DEPRECATED_$isGridRowNode(h)||s(24);var _=e[c];o.DEPRECATED_$isGridRowNode(_)||s(24),h=h.getChildren(),_=_.getChildren();let r=0;for(let e=n;e<=d;e++){let l=h[e];o.DEPRECATED_$isGridCellNode(l)||s(25);let c=_[r];o.DEPRECATED_$isGridCellNode(c)||s(25),t===u&&e===n?i=l.getKey():t===f&&e===d&&(a=l.getKey());let g=l.getChildren();c.getChildren().forEach(e=>{o.$isTextNode(e)&&o.$createParagraphNode().append(e),l.append(e)}),g.forEach(e=>e.remove()),r++}c++}i&&a&&((e=o.DEPRECATED_$createGridSelection()).set(t.getKey(),i,a),o.$setSelection(e),r.dispatchCommand(o.SELECTION_CHANGE_COMMAND,void 0))}(t,n,!1,e):function(e,t){let n=[],r=null;for(let t=0;t<e.length;t++){let i=e[t],l=o.$isLineBreakNode(i);if(l||o.$isDecoratorNode(i)&&i.isInline()||o.$isElementNode(i)&&i.isInline()||o.$isTextNode(i)||i.isParentRequired()){if(null===r&&(r=i.createParentElementNode(),n.push(r),l))continue;null!==r&&r.append(i)}else n.push(i),r=null}o.$isRangeSelection(t)?t.insertNodes(n):o.DEPRECATED_$isGridSelection(t)&&(e=t.anchor.getNode(),o.DEPRECATED_$isGridCellNode(e)||s(41),e.append(...n))}(t,n)}function c(e,t){let n=[],r=o.$getRoot().getChildren();for(let l=0;l<r.length;l++)!function e(t,n,r,l=[]){let a=null==n||r.isSelected(n),u=o.$isElementNode(r)&&r.excludeFromCopy("html");var d=r;if(null!==n){var c=i.$cloneWithProperties(r);d=c=o.$isTextNode(c)&&null!=n?i.$sliceSelectedTextNodeContent(n,c):c}let f=o.$isElementNode(d)?d.getChildren():[];var g=d;(c=g.exportJSON()).type!==g.constructor.getType()&&s(58);var h=c.children;for(o.$isElementNode(g)&&(Array.isArray(h)||s(59)),o.$isTextNode(d)&&(0<(d=d.__text).length?c.text=d:a=!1),d=0;d<f.length;d++)h=e(t,n,g=f[d],c.children),!a&&o.$isElementNode(r)&&h&&r.extractWithChild(g,n,"clone")&&(a=!0);if(a&&!u)l.push(c);else if(Array.isArray(c.children))for(t=0;t<c.children.length;t++)l.push(c.children[t]);return a}(e,t,r[l],n);return{namespace:e._config.namespace,nodes:n}}function f(e){let t=[];for(let n=0;n<e.length;n++){let r=o.$parseSerializedNode(e[n]);o.$isTextNode(r)&&i.$addNodeStyle(r),t.push(r)}return t}let g=null;function h(e,t){var n=window.getSelection();if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,null!==r&&null!==n&&!o.isSelectionWithinEditor(e,r,n)||(t.preventDefault(),t=t.clipboardData,r=o.$getSelection(),null===t||null===r))return!1;n=a(e),e=u(e);let i="";return null!==r&&(i=r.getTextContent()),null!==n&&t.setData("text/html",n),null!==e&&t.setData("application/x-lexical-editor",e),t.setData("text/plain",i),!0}t.$generateJSONFromSelectedNodes=c,t.$generateNodesFromSerializedNodes=f,t.$getHtmlContent=a,t.$getLexicalContent=u,t.$insertDataTransferForPlainText=function(e,t){null!=(e=e.getData("text/plain")||e.getData("text/uri-list"))&&t.insertRawText(e)},t.$insertDataTransferForRichText=function(e,t,n){var i=e.getData("application/x-lexical-editor");if(i)try{let e=JSON.parse(i);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes)){let r=f(e.nodes);return d(n,r,t)}}catch{}if(i=e.getData("text/html"))try{var l=(new DOMParser).parseFromString(i,"text/html"),s=r.$generateNodesFromDOM(n,l);return d(n,s,t)}catch{}if(null!=(e=e.getData("text/plain")||e.getData("text/uri-list"))){if(o.$isRangeSelection(t))for(n=(e=e.split(/(\r?\n|\t)/)).length,l=0;l<n;l++)"\n"===(s=e[l])||"\r\n"===s?t.insertParagraph():"	"===s?t.insertNodes([o.$createTabNode()]):t.insertText(s);else t.insertRawText(e)}},t.$insertGeneratedNodes=d,t.copyToClipboard=async function(e,t){if(null!==g)return!1;if(null!==t)return new Promise(n=>{e.update(()=>{n(h(e,t))})});var n=e.getRootElement();let r=document.getSelection();if(null===n||null===r)return!1;let i=document.createElement("span");return i.style.cssText="position: fixed; top: -1000px;",i.append(document.createTextNode("#")),n.append(i),(n=new Range).setStart(i,0),n.setEnd(i,1),r.removeAllRanges(),r.addRange(n),new Promise(t=>{let n=e.registerCommand(o.COPY_COMMAND,r=>(r instanceof ClipboardEvent&&(n(),null!==g&&(window.clearTimeout(g),g=null),t(h(e,r))),!0),o.COMMAND_PRIORITY_CRITICAL);g=window.setTimeout(()=>{n(),g=null,t(!1)},50),document.execCommand("copy"),i.remove()})}},170732:(e,t,n)=>{let r=n(932333);e.exports=r},932333:(e,t,n)=>{var r=n(133737);t.registerDragonSupport=function(e){let t=window.location.origin,n=n=>{if(n.origin===t){var i=e.getRootElement();if(document.activeElement===i&&"string"==typeof(i=n.data)){try{var l=JSON.parse(i)}catch(e){return}if(l&&"nuanria_messaging"===l.protocol&&"request"===l.type&&(l=l.payload)&&"makeChanges"===l.functionId&&(l=l.args)){let[t,i,o,s,a]=l;e.update(()=>{let e=r.$getSelection();if(r.$isRangeSelection(e)){var l=e.anchor;let u=l.getNode(),d=0,c=0;r.$isTextNode(u)&&0<=t&&0<=i&&(d=t,c=t+i,e.setTextNodeRange(u,d,u,c)),(d!==c||""!==o)&&(e.insertRawText(o),u=l.getNode()),r.$isTextNode(u)&&(d=s,c=s+a,d=d>(l=u.getTextContentSize())?l:d,c=c>l?l:c,e.setTextNodeRange(u,d,u,c)),n.stopImmediatePropagation()}})}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}},340821:(e,t,n)=>{let r=n(246234);e.exports=r},246234:(e,t,n)=>{var r=n(257176),i=n(133737);t.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},t.registerHistory=function(e,t,n){var l;let o,s;let a=(l=n,o=Date.now(),s=0,(t,n,r,a,u,d)=>{let c=Date.now();if(d.has("historic"))return s=0,o=c,2;let f=function(e,t,n,r,l){if(null===e||0===n.size&&0===r.size&&!l)return 0;var o=t._selection,s=e._selection;if(l)return 1;if(!(i.$isRangeSelection(o)&&i.$isRangeSelection(s)&&s.isCollapsed()&&o.isCollapsed()))return 0;l=t._nodeMap;let a=[];for(let e of n)void 0!==(n=l.get(e))&&a.push(n);for(let[e,t]of r)t&&(void 0===(r=l.get(e))||i.$isRootNode(r)||a.push(r));return 0===a.length?0:1<a.length?(t=(r=t._nodeMap).get(o.anchor.key),s=r.get(s.anchor.key),t&&s&&!e._nodeMap.has(t.__key)&&i.$isTextNode(t)&&1===t.__text.length&&1===o.anchor.offset?2:0):(t=a[0],e=e._nodeMap.get(t.__key),i.$isTextNode(e)&&i.$isTextNode(t)&&e.__mode===t.__mode)?(e=e.__text)===(t=t.__text)?0:(o=o.anchor,s=s.anchor,o.key!==s.key||"text"!==o.type)?0:(o=o.offset,s=s.offset,1==(e=t.length-e.length)&&s===o-1?2:-1===e&&s===o+1?3:-1===e&&s===o?4:0):0}(t,n,a,u,e.isComposing()),g=(()=>{var g=null===r||r.editor===e,h=d.has("history-push");if(!h&&g&&d.has("history-merge"))return 0;if(null===t)return 1;var _=n._selection;if(!(0<a.size||0<u.size))return null!==_?0:2;if(!1===h&&0!==f&&f===s&&c<o+l&&g)return 0;if(1===a.size){{h=Array.from(a)[0],g=t._nodeMap.get(h),h=n._nodeMap.get(h),_=t._selection;let e=n._selection,r=!1;i.$isRangeSelection(_)&&i.$isRangeSelection(e)&&(r="element"===_.anchor.type&&"element"===_.focus.type&&"text"===e.anchor.type&&"text"===e.focus.type),g=!!(!r&&i.$isTextNode(g)&&i.$isTextNode(h))&&g.__type===h.__type&&g.__text===h.__text&&g.__mode===h.__mode&&g.__detail===h.__detail&&g.__style===h.__style&&g.__format===h.__format&&g.__parent===h.__parent}if(g)return 0}return 1})();return o=c,s=f,g});n=({editorState:n,prevEditorState:r,dirtyLeaves:l,dirtyElements:o,tags:s})=>{let u=t.current,d=t.redoStack,c=t.undoStack,f=null===u?null:u.editorState;if(null===u||n!==f){if(1===(r=a(r,n,u,l,o,s)))0!==d.length&&(t.redoStack=[],e.dispatchCommand(i.CAN_REDO_COMMAND,!1)),null!==u&&(c.push({...u}),e.dispatchCommand(i.CAN_UNDO_COMMAND,!0));else if(2===r)return;t.current={editor:e,editorState:n}}};let u=r.mergeRegister(e.registerCommand(i.UNDO_COMMAND,()=>{let n=t.redoStack,r=t.undoStack;if(0!==r.length){let l=t.current,o=r.pop();null!==l&&(n.push(l),e.dispatchCommand(i.CAN_REDO_COMMAND,!0)),0===r.length&&e.dispatchCommand(i.CAN_UNDO_COMMAND,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:"historic"})}return!0},i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.REDO_COMMAND,()=>{let n=t.redoStack;var r=t.undoStack;if(0!==n.length){let l=t.current;null!==l&&(r.push(l),e.dispatchCommand(i.CAN_UNDO_COMMAND,!0)),r=n.pop(),0===n.length&&e.dispatchCommand(i.CAN_REDO_COMMAND,!1),t.current=r||null,r&&r.editor.setEditorState(r.editorState,{tag:"historic"})}return!0},i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.CLEAR_EDITOR_COMMAND,()=>(t.undoStack=[],t.redoStack=[],t.current=null,!1),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.CLEAR_HISTORY_COMMAND,()=>(t.undoStack=[],t.redoStack=[],t.current=null,e.dispatchCommand(i.CAN_REDO_COMMAND,!1),e.dispatchCommand(i.CAN_UNDO_COMMAND,!1),!0),i.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(n)),d=e.registerUpdateListener(n);return()=>{u(),d()}}},971166:(e,t,n)=>{let r=n(773975);e.exports=r},773975:(e,t,n)=>{var r=n(528851),i=n(133737);let l=new Set(["STYLE","SCRIPT"]);t.$generateHtmlFromNodes=function(e,t){if("undefined"==typeof document||"undefined"==typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),l=i.$getRoot().getChildren();for(let o=0;o<l.length;o++)!function e(t,n,l,o=null){let s=null==o||n.isSelected(o),a=i.$isElementNode(n)&&n.excludeFromCopy("html");var u=n;null!==o&&(u=r.$cloneWithProperties(n),u=i.$isTextNode(u)&&null!=o?r.$sliceSelectedTextNodeContent(o,u):u);let d=i.$isElementNode(u)?u.getChildren():[],{element:c,after:f}=u.exportDOM(t);if(!c)return!1;let g=document.createDocumentFragment();for(let r=0;r<d.length;r++){let l=d[r],a=e(t,l,g,o);!s&&i.$isElementNode(n)&&a&&n.extractWithChild(l,o,"html")&&(s=!0)}return s&&!a?(c.append(g),l.append(c),f&&(t=f.call(u,c))&&c.replaceWith(t)):l.append(g),s}(e,l[o],n,t);return n.innerHTML},t.$generateNodesFromDOM=function(e,t){t=t.body?t.body.childNodes:[];let n=[];for(let o=0;o<t.length;o++){var r=t[o];l.has(r.nodeName)||null!==(r=function e(t,n,r=new Map,o){let s=[];if(l.has(t.nodeName))return s;let a=null;var u,{nodeName:d}=t,c=n._htmlConversions.get(d.toLowerCase());if(d=null,void 0!==c)for(u of c)null!==(c=u(t))&&(null===d||d.priority<c.priority)&&(d=c);if(d=(u=null!==d?d.conversion:null)?u(t):null,u=null,null!==d){if(u=d.after,null!==(a=Array.isArray(c=d.node)?c[c.length-1]:c)){for(var[,f]of r)if(!(a=f(a,o)))break;a&&s.push(...Array.isArray(c)?c:[a])}null!=d.forChild&&r.set(t.nodeName,d.forChild)}for(f=0,t=t.childNodes,o=[];f<t.length;f++)o.push(...e(t[f],n,new Map(r),a));return null!=u&&(o=u(o)),null==a?s=s.concat(o):i.$isElementNode(a)&&a.append(...o),s}(r,e))&&(n=n.concat(r))}return n}},59815:(e,t,n)=>{let r=n(178340);e.exports=r},178340:(e,t,n)=>{var r=n(979232),i=n(133737),l=n(411855);let o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var s=o?l.useLayoutEffect:l.useEffect;let a={tag:"history-merge"};t.LexicalComposer=function({initialConfig:e,children:t}){let n=l.useMemo(()=>{let{theme:t,namespace:n,editor__DEPRECATED:l,nodes:s,onError:u,editorState:d}=e,c=r.createLexicalComposerContext(null,t),f=l||null;if(null===f){let r=i.createEditor({editable:e.editable,namespace:n,nodes:s,onError:e=>u(e,r),theme:t});!function(e,t){if(null!==t){if(void 0===t)e.update(()=>{var t=i.$getRoot();if(t.isEmpty()){let n=i.$createParagraphNode();t.append(n),t=o?document.activeElement:null,(null!==i.$getSelection()||null!==t&&t===e.getRootElement())&&n.select()}},a);else if(null!==t)switch(typeof t){case"string":let n=e.parseEditorState(t);e.setEditorState(n,a);break;case"object":e.setEditorState(t,a);break;case"function":e.update(()=>{i.$getRoot().isEmpty()&&t(e)},a)}}}(r,d),f=r}return[f,c]},[]);return s(()=>{let t=e.editable,[r]=n;r.setEditable(void 0===t||t)},[]),l.createElement(r.LexicalComposerContext.Provider,{value:n},t)}},979232:(e,t,n)=>{let r=n(418049);e.exports=r},418049:(e,t,n)=>{var r=n(411855);let i=r.createContext(null);t.LexicalComposerContext=i,t.createLexicalComposerContext=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},t.useLexicalComposerContext=function(){let e=r.useContext(i);if(null==e)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e}},662696:(e,t,n)=>{let r=n(921945);e.exports=r},921945:(e,t,n)=>{var r=n(979232),i=n(411855);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;t.ContentEditable=function({ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:n,ariaDescribedBy:s,ariaExpanded:a,ariaLabel:u,ariaLabelledBy:d,ariaMultiline:c,ariaOwns:f,ariaRequired:g,autoCapitalize:h,className:_,id:p,role:m="textbox",spellCheck:y=!0,style:C,tabIndex:v,"data-testid":N,...x}){let[T]=r.useLexicalComposerContext(),[E,S]=i.useState(!1),D=i.useCallback(e=>{T.setRootElement(e)},[T]);return o(()=>(S(T.isEditable()),T.registerEditableListener(e=>{S(e)})),[T]),i.createElement("div",l({},x,{"aria-activedescendant":E?e:void 0,"aria-autocomplete":E?t:"none","aria-controls":E?n:void 0,"aria-describedby":s,"aria-expanded":E&&"combobox"===m?!!a:void 0,"aria-label":u,"aria-labelledby":d,"aria-multiline":c,"aria-owns":E?f:void 0,"aria-required":g,autoCapitalize:h,className:_,contentEditable:E,"data-testid":N,id:p,ref:D,role:E?m:void 0,spellCheck:y,style:C,tabIndex:v}))}},77669:(e,t,n)=>{let r=n(953674);e.exports=r},953674:(e,t,n)=>{var r=n(411855);function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var l={error:null},o=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=l,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(l)},n.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},n.componentDidUpdate=function(e,t){var n,r,i,l,o=this.props.resetKeys;null!==this.state.error&&null!==t.error&&(void 0===(n=e.resetKeys)&&(n=[]),void 0===(r=o)&&(r=[]),n.length!==r.length||n.some(function(e,t){return!Object.is(e,r[t])}))&&(null==(i=(l=this.props).onResetKeysChange)||i.call(l,e.resetKeys,o),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent;if(t=t.fallback,null!==e){if(e={error:e,resetErrorBoundary:this.resetErrorBoundary},r.isValidElement(t))return t;if("function"==typeof n)return n(e);if(i)return r.createElement(i,e);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);e.exports=function({children:e,onError:t}){return r.createElement(o,{fallback:r.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:t},e)}},54822:(e,t,n)=>{let r=n(582799);e.exports=r},582799:(e,t,n)=>{var r=n(979232),i=n(340821),l=n(411855);t.createEmptyHistoryState=i.createEmptyHistoryState,t.HistoryPlugin=function({externalHistoryState:e}){let[t]=r.useLexicalComposerContext();return function(e,t,n=1e3){let r=l.useMemo(()=>t||i.createEmptyHistoryState(),[t]);l.useEffect(()=>i.registerHistory(e,r,n),[n,e,r])}(t,e),null}},515395:(e,t,n)=>{let r=n(42880);e.exports=r},42880:(e,t,n)=>{var r=n(979232),i=n(411855),l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;t.OnChangePlugin=function({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:n}){let[i]=r.useLexicalComposerContext();return l(()=>{if(n)return i.registerUpdateListener(({editorState:r,dirtyElements:l,dirtyLeaves:o,prevEditorState:s,tags:a})=>{t&&0===l.size&&0===o.size||e&&a.has("history-merge")||s.isEmpty()||n(r,i,a)})},[i,e,t,n]),null}},244379:(e,t,n)=>{let r=n(56392);e.exports=r},56392:(e,t,n)=>{var r=n(979232),i=n(324112),l=n(411855),o=n(57628),s=n(257176),a=n(109388),u=n(170732),d=n(929624),c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect;function f(e){return e.getEditorState().read(o.$canShowPlaceholderCurry(e.isComposing()))}function g({content:e}){var[t]=r.useLexicalComposerContext();t=function(e){let[t,n]=l.useState(()=>f(e));return c(()=>{function t(){n(f(e))}return t(),s.mergeRegister(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(t);let n=i();return t?"function"==typeof e?e(n):e:null}t.RichTextPlugin=function({contentEditable:e,placeholder:t,ErrorBoundary:n}){var i;let[o]=r.useLexicalComposerContext();return n=function(e,t){let[n,r]=l.useState(()=>e.getDecorators());return c(()=>e.registerDecoratorListener(e=>{a.flushSync(()=>{r(e)})}),[e]),l.useEffect(()=>{r(e.getDecorators())},[e]),l.useMemo(()=>{let r=[],i=Object.keys(n);for(let o=0;o<i.length;o++){let s=i[o],u=l.createElement(t,{onError:t=>e._onError(t)},l.createElement(l.Suspense,{fallback:null},n[s])),d=e.getElementByKey(s);null!==d&&r.push(a.createPortal(u,d,s))}return r},[t,n,e])}(o,n),c(()=>s.mergeRegister(d.registerRichText(i),u.registerDragonSupport(i)),[i=o]),l.createElement(l.Fragment,null,e,l.createElement(g,{content:t}),n)}},324112:(e,t,n)=>{let r=n(552977);e.exports=r},552977:(e,t,n)=>{var r=n(979232),i=n(411855),l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function o(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}e.exports=function(){return function(e){let[t]=r.useLexicalComposerContext(),n=i.useMemo(()=>e(t),[t,e]),o=i.useRef(n.initialValueFn()),[s,a]=i.useState(o.current);return l(()=>{let{initialValueFn:e,subscribe:t}=n,r=e();return o.current!==r&&(o.current=r,a(r)),t(e=>{o.current=e,a(e)})},[n,e]),s}(o)}},894260:(e,t,n)=>{let r=n(863685);e.exports=r},863685:(e,t,n)=>{var r=n(979232),i=n(133737),l=n(411855);function o(e,t){return e.getEditorState().read(()=>{let e=i.$getNodeByKey(t);return null!==e&&e.isSelected()})}t.useLexicalNodeSelection=function(e){let[t]=r.useLexicalComposerContext(),[n,s]=l.useState(()=>o(t,e));return l.useEffect(()=>{let n=!0,r=t.registerUpdateListener(()=>{n&&s(o(t,e))});return()=>{n=!1,r()}},[t,e]),[n,l.useCallback(n=>{t.update(()=>{let t=i.$getSelection();i.$isNodeSelection(t)||(t=i.$createNodeSelection(),i.$setSelection(t)),n?t.add(e):t.delete(e)})},[t,e]),l.useCallback(()=>{t.update(()=>{let e=i.$getSelection();i.$isNodeSelection(e)&&e.clear()})},[t])]}},929624:(e,t,n)=>{let r=n(485609);e.exports=r},485609:(e,t,n)=>{var r=n(673779),i=n(528851),l=n(257176),o=n(133737);function s(e,t){return void 0!==document.caretRangeFromPoint?null===(e=document.caretRangeFromPoint(e,t))?null:{node:e.startContainer,offset:e.startOffset}:"undefined"!==document.caretPositionFromPoint?null===(e=document.caretPositionFromPoint(e,t))?null:{node:e.offsetNode,offset:e.offset}:null}let a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,u=a&&"documentMode"in document?document.documentMode:null;a&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),a&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);let d=!!(a&&"InputEvent"in window)&&!u&&"getTargetRanges"in new window.InputEvent("input"),c=a&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),f=a&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,g=a&&/^(?=.*Chrome).*/i.test(navigator.userAgent),h=a&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!g,_=o.createCommand("DRAG_DROP_PASTE_FILE");class p extends o.ElementNode{static getType(){return"quote"}static clone(e){return new p(e.__key)}constructor(e){super(e)}createDOM(e){let t=document.createElement("blockquote");return l.addClassNamesToElement(t,e.theme.quote),t}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:N,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}static importJSON(e){let t=m();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,t){e=o.$createParagraphNode();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=o.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}}function m(){return o.$applyNodeReplacement(new p)}class y extends o.ElementNode{static getType(){return"heading"}static clone(e){return new y(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){let t=this.__tag,n=document.createElement(t);return void 0!==(e=e.theme.heading)&&l.addClassNamesToElement(n,e[t]),n}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:v,priority:0}),h2:()=>({conversion:v,priority:0}),h3:()=>({conversion:v,priority:0}),h4:()=>({conversion:v,priority:0}),h5:()=>({conversion:v,priority:0}),h6:()=>({conversion:v,priority:0}),p:e=>null!==(e=e.firstChild)&&C(e)?{conversion:()=>({node:null}),priority:3}:null,span:e=>C(e)?{conversion:()=>({node:x("h1")}),priority:3}:null}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}static importJSON(e){let t=x(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,t=!0){e=0<(e=e?e.anchor.offset:0)&&e<this.getTextContentSize()?x(this.getTag()):o.$createParagraphNode();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.isEmpty()?o.$createParagraphNode():x(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function C(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function v(e){e=e.nodeName.toLowerCase();let t=null;return("h1"===e||"h2"===e||"h3"===e||"h4"===e||"h5"===e||"h6"===e)&&(t=x(e)),{node:t}}function N(){return{node:m()}}function x(e){return o.$applyNodeReplacement(new y(e))}async function T(e,t){await r.copyToClipboard(t,e instanceof ClipboardEvent?e:null),t.update(()=>{let e=o.$getSelection();o.$isRangeSelection(e)?e.removeText():o.$isNodeSelection(e)&&e.getNodes().forEach(e=>e.remove())})}function E(e){let t=null;if(e instanceof DragEvent?t=e.dataTransfer:e instanceof ClipboardEvent&&(t=e.clipboardData),null===t)return[!1,[],!1];var n=t.types;return e=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[e,Array.from(t.files),n]}function S(e){var t=o.$getSelection();if(!o.$isRangeSelection(t))return!1;let n=new Set;t=t.getNodes();for(let o=0;o<t.length;o++){var r=t[o],i=r.getKey();n.has(i)||(i=(r=l.$getNearestBlockElementAncestorOrThrow(r)).getKey(),r.canIndent()&&!n.has(i)&&(n.add(i),e(r)))}return 0<n.size}function D(e){return e=o.$getNearestNodeFromDOMNode(e),o.$isDecoratorNode(e)}t.$createHeadingNode=x,t.$createQuoteNode=m,t.$isHeadingNode=function(e){return e instanceof y},t.$isQuoteNode=function(e){return e instanceof p},t.DRAG_DROP_PASTE=_,t.HeadingNode=y,t.QuoteNode=p,t.eventFiles=E,t.registerRichText=function(e){return l.mergeRegister(e.registerCommand(o.CLICK_COMMAND,()=>{let e=o.$getSelection();return!!o.$isNodeSelection(e)&&(e.clear(),!0)},0),e.registerCommand(o.DELETE_CHARACTER_COMMAND,e=>{let t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DELETE_WORD_COMMAND,e=>{let t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.deleteWord(e),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DELETE_LINE_COMMAND,e=>{let t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.deleteLine(e),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.CONTROLLED_TEXT_INSERTION_COMMAND,t=>{let n=o.$getSelection();if("string"==typeof t)o.$isRangeSelection(n)?n.insertText(t):o.DEPRECATED_$isGridSelection(n);else{if(!o.$isRangeSelection(n)&&!o.DEPRECATED_$isGridSelection(n))return!1;let i=t.dataTransfer;null!=i?r.$insertDataTransferForRichText(i,n,e):o.$isRangeSelection(n)&&(t=t.data)&&n.insertText(t)}return!0},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.REMOVE_TEXT_COMMAND,()=>{let e=o.$getSelection();return!!o.$isRangeSelection(e)&&(e.removeText(),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.FORMAT_TEXT_COMMAND,e=>{let t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.formatText(e),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.FORMAT_ELEMENT_COMMAND,e=>{var t=o.$getSelection();if(!o.$isRangeSelection(t)&&!o.$isNodeSelection(t))return!1;for(let n of t=t.getNodes())l.$getNearestBlockElementAncestorOrThrow(n).setFormat(e);return!0},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.INSERT_LINE_BREAK_COMMAND,e=>{let t=o.$getSelection();return!!o.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.INSERT_PARAGRAPH_COMMAND,()=>{let e=o.$getSelection();return!!o.$isRangeSelection(e)&&(e.insertParagraph(),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.INSERT_TAB_COMMAND,()=>(o.$insertNodes([o.$createTabNode()]),!0),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.INDENT_CONTENT_COMMAND,()=>S(e=>{let t=e.getIndent();e.setIndent(t+1)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.OUTDENT_CONTENT_COMMAND,()=>S(e=>{let t=e.getIndent();0<t&&e.setIndent(t-1)}),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ARROW_UP_COMMAND,e=>{var t=o.$getSelection();if(o.$isNodeSelection(t)&&!D(e.target)){if(0<(e=t.getNodes()).length)return e[0].selectPrevious(),!0}else if(o.$isRangeSelection(t)&&(t=o.$getAdjacentNode(t.focus,!0),o.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline()))return t.selectPrevious(),e.preventDefault(),!0;return!1},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ARROW_DOWN_COMMAND,e=>{var t=o.$getSelection();if(o.$isNodeSelection(t)){if(0<(e=t.getNodes()).length)return e[0].selectNext(0,0),!0}else if(o.$isRangeSelection(t)){let n=t.focus;if("root"===n.key&&n.offset===o.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(t=o.$getAdjacentNode(t.focus,!1),o.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectNext(),e.preventDefault(),!0}return!1},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ARROW_LEFT_COMMAND,e=>{let t=o.$getSelection();if(o.$isNodeSelection(t)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectPrevious(),!0}return!!o.$isRangeSelection(t)&&!!i.$shouldOverrideDefaultCharacterSelection(t,!0)&&(n=e.shiftKey,e.preventDefault(),i.$moveCharacter(t,n,!0),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ARROW_RIGHT_COMMAND,e=>{let t=o.$getSelection();if(o.$isNodeSelection(t)&&!D(e.target)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectNext(0,0),!0}return!!o.$isRangeSelection(t)&&(n=e.shiftKey,!!i.$shouldOverrideDefaultCharacterSelection(t,!1)&&(e.preventDefault(),i.$moveCharacter(t,n,!1),!0))},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_BACKSPACE_COMMAND,t=>{if(D(t.target))return!1;let n=o.$getSelection();if(!o.$isRangeSelection(n))return!1;t.preventDefault(),{anchor:t}=n;let r=t.getNode();return n.isCollapsed()&&0===t.offset&&!o.$isRootNode(r)&&0<l.$getNearestBlockElementAncestorOrThrow(r).getIndent()?e.dispatchCommand(o.OUTDENT_CONTENT_COMMAND,void 0):e.dispatchCommand(o.DELETE_CHARACTER_COMMAND,!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_DELETE_COMMAND,t=>{if(D(t.target))return!1;let n=o.$getSelection();return!!o.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(o.DELETE_CHARACTER_COMMAND,!1))},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ENTER_COMMAND,t=>{let n=o.$getSelection();if(!o.$isRangeSelection(n))return!1;if(null!==t){if((f||c||h)&&d)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(o.INSERT_LINE_BREAK_COMMAND,!1)}return e.dispatchCommand(o.INSERT_PARAGRAPH_COMMAND,void 0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.KEY_ESCAPE_COMMAND,()=>{let t=o.$getSelection();return!!o.$isRangeSelection(t)&&(e.blur(),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DROP_COMMAND,t=>{let[,n]=E(t);if(0<n.length){var r=s(t.clientX,t.clientY);if(null!==r){let{offset:t,node:l}=r;var i=o.$getNearestNodeFromDOMNode(l);if(null!==i){if(r=o.$createRangeSelection(),o.$isTextNode(i))r.anchor.set(i.getKey(),t,"text"),r.focus.set(i.getKey(),t,"text");else{let e=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(e,i,"element"),r.focus.set(e,i,"element")}r=o.$normalizeSelection__EXPERIMENTAL(r),o.$setSelection(r)}e.dispatchCommand(_,n)}return t.preventDefault(),!0}return t=o.$getSelection(),!!o.$isRangeSelection(t)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DRAGSTART_COMMAND,e=>{[e]=E(e);let t=o.$getSelection();return!e||!!o.$isRangeSelection(t)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.DRAGOVER_COMMAND,e=>{var[t]=E(e);let n=o.$getSelection();return(!t||!!o.$isRangeSelection(n))&&(null!==(t=s(e.clientX,e.clientY))&&(t=o.$getNearestNodeFromDOMNode(t.node),o.$isDecoratorNode(t)&&e.preventDefault()),!0)},o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.COPY_COMMAND,t=>(r.copyToClipboard(e,t instanceof ClipboardEvent?t:null),!0),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.CUT_COMMAND,t=>(T(t,e),!0),o.COMMAND_PRIORITY_EDITOR),e.registerCommand(o.PASTE_COMMAND,t=>{let[,n,i]=E(t);if(0<n.length&&!i)return e.dispatchCommand(_,n),!0;if(o.isSelectionCapturedInDecoratorInput(t.target))return!1;let l=o.$getSelection();return!!(o.$isRangeSelection(l)||o.DEPRECATED_$isGridSelection(l))&&(t.preventDefault(),e.update(()=>{let n=o.$getSelection(),i=t instanceof InputEvent||t instanceof KeyboardEvent?null:t.clipboardData;null!=i&&(o.$isRangeSelection(n)||o.DEPRECATED_$isGridSelection(n))&&r.$insertDataTransferForRichText(i,n,e)},{tag:"paste"}),!0)},o.COMMAND_PRIORITY_EDITOR))}},528851:(e,t,n)=>{let r=n(386160);e.exports=r},386160:(e,t,n)=>{var r=n(133737);let i=new Map;function l(e){for(;null!=e;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function o(e){let t=e.parentNode;if(null==t)throw Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function s(e){let t={};for(let n of e=e.split(";"))if(""!==n){let[e,r]=n.split(/:([^]+)/);t[e.trim()]=r.trim()}return t}function a(e){let t=i.get(e);return void 0===t&&(t=s(e),i.set(e,t)),t}function u(e,t){var n=a("getStyle"in e?e.getStyle():e.style);n=function(e){let t="";for(let n in e)n&&(t+=`${n}: ${e[n]};`);return t}(t=Object.entries(t).reduce((e,[t,n])=>(null===n?delete e[t]:e[t]=n,e),{...n})),e.setStyle(n),i.set(n,t)}function d(e,t,n,i,l=null){if(0!==t.length){var o=t[0],s=new Map,a=[];(o=r.$isElementNode(o)?o:o.getParentOrThrow()).isInline()&&(o=o.getParentOrThrow());for(var u=!1;null!==o;){var d=o.getPreviousSibling();if(null!==d){o=d,u=!0;break}if(o=o.getParentOrThrow(),r.$isRootOrShadowRoot(o))break}d=new Set;for(var c=0;c<n;c++){var f=t[c];r.$isElementNode(f)&&0===f.getChildrenSize()&&d.add(f.getKey())}var g=new Set;for(c=0;c<n;c++){var h=(f=t[c]).getParent();if(null!==h&&h.isInline()&&(h=h.getParent()),null!==h&&r.$isLeafNode(f)&&!g.has(f.getKey())){if(f=h.getKey(),void 0===s.get(f)){let e=i();e.setFormat(h.getFormatType()),e.setIndent(h.getIndent()),a.push(e),s.set(f,e),h.getChildren().forEach(t=>{e.append(t),g.add(t.getKey()),r.$isElementNode(t)&&t.getChildrenKeys().forEach(e=>g.add(e))}),function(e){for(;null!==e&&!r.$isRootOrShadowRoot(e);){let t=e.getLatest(),n=e.getParent();0===t.getChildrenSize()&&e.remove(!0),e=n}}(h)}}else d.has(f.getKey())&&((h=i()).setFormat(f.getFormatType()),h.setIndent(f.getIndent()),a.push(h),f.remove(!0))}if(null!==l)for(t=0;t<a.length;t++)l.append(a[t]);if(t=null,r.$isRootOrShadowRoot(o)){if(u){if(null!==l)o.insertAfter(l);else for(l=a.length-1;0<=l;l--)o.insertAfter(a[l])}else if(u=o.getFirstChild(),r.$isElementNode(u)&&(o=u),null===u){if(l)o.append(l);else for(l=0;l<a.length;l++)u=a[l],o.append(u),t=u}else if(null!==l)u.insertBefore(l);else for(o=0;o<a.length;o++)l=a[o],u.insertBefore(l),t=l}else if(l)o.insertAfter(l);else for(l=a.length-1;0<=l;l--)u=a[l],o.insertAfter(u),t=u;a=r.$getPreviousSelection(),r.$isRangeSelection(a)&&a.anchor.getNode().isAttached()&&a.focus.getNode().isAttached()?r.$setSelection(a.clone()):null!==t?t.selectEnd():e.dirty=!0}}function c(e,t,n,r){e.modify(t?"extend":"move",n,r)}function f(e){return e=e.anchor.getNode(),"rtl"===(r.$isRootNode(e)?e:e.getParentOrThrow()).getDirection()}t.$addNodeStyle=function(e){let t=s(e=e.getStyle());i.set(e,t)},t.$cloneWithProperties=function(e){let t=(e=e.getLatest()).constructor.clone(e);return(t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,r.$isElementNode(e)&&r.$isElementNode(t))?(t.__first=e.__first,t.__last=e.__last,t.__size=e.__size,t.__format=e.__format,t.__indent=e.__indent,t.__dir=e.__dir):r.$isTextNode(e)&&r.$isTextNode(t)&&(t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail),t},t.$getSelectionStyleValueForProperty=function(e,t,n=""){let i=null,l=e.getNodes();var o=e.anchor,s=e.focus,u=e.isBackward();let d=u?s.offset:o.offset;if(o=u?s.getNode():o.getNode(),""!==e.style&&null!==(e=a(e.style))&&t in e)return e[t];for(e=0;e<l.length;e++){var c=l[e];if((0===e||0!==d||!c.is(o))&&r.$isTextNode(c)){if(s=t,u=n,s=null!==(c=a(c=c.getStyle()))&&c[s]||u,null===i)i=s;else if(i!==s){i="";break}}}return null===i?n:i},t.$isAtNodeEnd=function(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()},t.$isParentElementRTL=f,t.$moveCaretSelection=c,t.$moveCharacter=function(e,t,n){let r=f(e);c(e,t,n?!r:r,"character")},t.$patchStyleText=function(e,t){var n=e.getNodes();let i=n.length-1,l=n[0],o=n[i];if(e.isCollapsed())u(e,t);else{var s=e.anchor,a=e.focus,d=l.getTextContent().length,c=a.offset,f=s.offset,g=s.isBefore(a),h=g?f:c;e=g?c:f;var _=g?s.type:a.type,p=g?a.type:s.type;if(s=g?a.key:s.key,r.$isTextNode(l)&&h===d&&(a=l.getNextSibling(),r.$isTextNode(a)&&(h=f=0,l=a)),1===n.length)r.$isTextNode(l)&&(h="element"===_?0:f>c?c:f)!==(e="element"===p?d:f>c?f:c)&&(0===h&&e===d?(u(l,t),l.select(h,e)):(n=l.splitText(h,e),u(n=0===h?n[0]:n[1],t),n.select(0,e-h)));else for(r.$isTextNode(l)&&h<l.getTextContentSize()&&(0!==h&&(l=l.splitText(h)[1]),u(l,t)),r.$isTextNode(o)&&(h=o.getTextContent().length,o.__key!==s&&0!==e&&(e=h),e!==h&&([o]=o.splitText(e)),0!==e&&u(o,t)),e=1;e<i;e++)d=(h=n[e]).getKey(),r.$isTextNode(h)&&d!==l.getKey()&&d!==o.getKey()&&!h.isToken()&&u(h,t)}},t.$selectAll=function(e){let t=e.anchor;e=e.focus;var n=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();let i=n.getFirstDescendant();n=n.getLastDescendant();let l="element",o="element",s=0;r.$isTextNode(i)?l="text":r.$isElementNode(i)||null===i||(i=i.getParentOrThrow()),r.$isTextNode(n)?(o="text",s=n.getTextContentSize()):r.$isElementNode(n)||null===n||(n=n.getParentOrThrow()),i&&n&&(t.set(i.getKey(),0,l),e.set(n.getKey(),s,o))},t.$setBlocksType=function(e,t){if("root"===e.anchor.key){t=t();var n=r.$getRoot();(e=n.getFirstChild())?e.replace(t,!0):n.append(t)}else for(n=e.getNodes(),e=e.anchor.getNode().getParentOrThrow(),-1===n.indexOf(e)&&n.push(e),e.isInline()&&(e=e.getParentOrThrow(),-1===n.indexOf(e)&&n.push(e)),e=0;e<n.length;e++){let o=n[e];var i=o;if(!r.$isElementNode(i)||r.$isRootOrShadowRoot(i))i=!1;else{var l=i.getFirstChild();l=null===l||r.$isTextNode(l)||l.isInline(),i=!i.isInline()&&!1!==i.canBeEmpty()&&l}i&&((i=t()).setFormat(o.getFormatType()),i.setIndent(o.getIndent()),o.replace(i,!0))}},t.$shouldOverrideDefaultCharacterSelection=function(e,t){return e=r.$getAdjacentNode(e.focus,t),r.$isDecoratorNode(e)&&!e.isIsolated()||r.$isElementNode(e)&&!e.isInline()&&!e.canBeEmpty()},t.$sliceSelectedTextNodeContent=function(e,t){if(t.isSelected()&&!t.isSegmented()&&!t.isToken()&&(r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e))){var n=e.anchor.getNode(),i=e.focus.getNode(),l=t.is(n),o=t.is(i);if(l||o){let r;l=e.isBackward();let[s,a]=e.getCharacterOffsets();e=n.is(i),o=t.is(l?i:n),i=t.is(l?n:i),n=0,e?(n=s>a?a:s,r=s>a?s:a):o?(n=l?a:s,r=void 0):i&&(n=0,r=l=l?s:a),t.__text=t.__text.slice(n,r)}}return t},t.$wrapNodes=function(e,t,n=null){var i=e.getNodes();let l=i.length;var o=e.anchor;if(0===l||1===l&&"element"===o.type&&0===o.getNode().getChildrenSize()){i=(e="text"===o.type?o.getNode().getParentOrThrow():o.getNode()).getChildren();let r=t();r.setFormat(e.getFormatType()),r.setIndent(e.getIndent()),i.forEach(e=>r.append(e)),n&&(r=n.append(r)),e.replace(r)}else{o=null;var s=[];for(let a=0;a<l;a++){let l=i[a];r.$isRootOrShadowRoot(l)?(d(e,s,s.length,t,n),s=[],o=l):null===o||null!==o&&r.$hasAncestor(l,o)?s.push(l):(d(e,s,s.length,t,n),s=[l])}d(e,s,s.length,t,n)}},t.createDOMRange=function(e,t,n,i,s){let a=t.getKey(),u=i.getKey(),d=document.createRange(),c=e.getElementByKey(a);if(e=e.getElementByKey(u),r.$isTextNode(t)&&(c=l(c)),r.$isTextNode(i)&&(e=l(e)),void 0===t||void 0===i||null===c||null===e)return null;"BR"===c.nodeName&&([c,n]=o(c)),"BR"===e.nodeName&&([e,s]=o(e)),t=c.firstChild,c===e&&null!=t&&"BR"===t.nodeName&&0===n&&0===s&&(s=1);try{d.setStart(c,n),d.setEnd(e,s)}catch(e){return null}return d.collapsed&&(n!==s||a!==u)&&(d.setStart(e,s),d.setEnd(c,n)),d},t.createRectsFromDOMRange=function(e,t){let n;var r=e.getRootElement();if(null===r)return[];e=r.getBoundingClientRect(),r=parseFloat((r=getComputedStyle(r)).paddingLeft)+parseFloat(r.paddingRight);let i=(t=Array.from(t.getClientRects())).length;t.sort((e,t)=>{let n=e.top-t.top;return 3>=Math.abs(n)?e.left-t.left:n});for(let l=0;l<i;l++){let o=t[l],s=o.width+r===e.width;n&&n.top<=o.top&&n.top+n.height>o.top&&n.left+n.width>o.left||s?(t.splice(l--,1),i--):n=o}return t},t.getStyleObjectFromCSS=a,t.trimTextContentFromAnchor=function(e,t,n){let i=t.getNode();if(r.$isElementNode(i)){var l=i.getDescendantByIndex(t.offset);null!==l&&(i=l)}for(;0<n&&null!==i;){var o=i.getPreviousSibling(),s=0;if(null===o){l=i.getParentOrThrow();for(var a=l.getPreviousSibling();null===a;){if(null===(l=l.getParent())){o=null;break}a=l.getPreviousSibling()}null!==l&&(s=l.isInline()?0:2,o=r.$isElementNode(a)?a.getLastDescendant():a)}if(""===(a=i.getTextContent())&&r.$isElementNode(i)&&!i.isInline()&&(a="\n\n"),l=i.getTextContentSize(),!r.$isTextNode(i)||n>=l)a=i.getParent(),i.remove(),null==a||0!==a.getChildrenSize()||r.$isRootNode(a)||a.remove(),n-=l+s,i=o;else{let u=i.getKey();s=e.getEditorState().read(()=>{let e=r.$getNodeByKey(u);return r.$isTextNode(e)&&e.isSimpleText()?e.getTextContent():null}),o=l-n;let d=a.slice(0,o);null!==s&&s!==a?(n=r.$getPreviousSelection(),l=i,i.isSimpleText()?i.setTextContent(s):(l=r.$createTextNode(s),i.replace(l)),r.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,l.select(n,n))):i.isSimpleText()?(s=t.key===u,(a=t.offset)<n&&(a=l),n=s?a-n:0,l=s?a:o,s&&0===n?[n]=i.splitText(n,l):[,n]=i.splitText(n,l),n.remove()):(n=r.$createTextNode(d),i.replace(n)),n=0}}}},57628:(e,t,n)=>{let r=n(126397);e.exports=r},126397:(e,t,n)=>{var r=n(133737);function i(e,t=!0){return!e&&(e=l(),t&&(e=e.trim()),""===e)}function l(){return r.$getRoot().getTextContent()}function o(e){if(!i(e,!1))return!1;let t=(e=r.$getRoot().getChildren()).length;if(1<t)return!1;for(let i=0;i<t;i++){var n=e[i];if(r.$isDecoratorNode(n))return!1;if(r.$isElementNode(n)){if(!r.$isParagraphNode(n)||0!==n.__indent)return!1;let e=(n=n.getChildren()).length;for(let t=0;t<e;t++)if(!r.$isTextNode(n[i]))return!1}}return!0}t.$canShowPlaceholder=o,t.$canShowPlaceholderCurry=function(e){return()=>o(e)},t.$findTextIntersectionFromCharacters=function(e,t){var n=e.getFirstChild();e=0;e:for(;null!==n;){if(r.$isElementNode(n)){var i=n.getFirstChild();if(null!==i){n=i;continue}}else if(r.$isTextNode(n)){if(e+(i=n.getTextContentSize())>t)return{node:n,offset:t-e};e+=i}if(null!==(i=n.getNextSibling()))n=i;else{for(n=n.getParent();null!==n;){if(null!==(i=n.getNextSibling())){n=i;continue e}n=n.getParent()}break}}return null},t.$isRootTextContentEmpty=i,t.$isRootTextContentEmptyCurry=function(e,t){return()=>i(e,t)},t.$rootTextContent=l,t.registerLexicalTextEntity=function(e,t,n,i){let l=e=>{let t=r.$createTextNode(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(r.TextNode,e=>{if(e.isSimpleText()){var o=e.getPreviousSibling(),s=e.getTextContent(),a=e;if(r.$isTextNode(o)){var u=o.getTextContent(),d=t(u+s);if(o instanceof n){if(null===d||0!==o.getLatest().__mode){l(o);return}if(0<(d=d.end-u.length)){a=u+(a=s.slice(0,d)),o.select(),o.setTextContent(a),d===s.length?e.remove():(o=s.slice(d),e.setTextContent(o));return}}else if(null===d||d.start<u.length)return}for(;;){let c;if(s=d=null===(e=t(s))?"":s.slice(e.end),""===d){if(u=a.getNextSibling(),r.$isTextNode(u)){if(null===(d=t(d=a.getTextContent()+u.getTextContent()))){u instanceof n?l(u):u.markDirty();break}if(0!==d.start)break}}else if(null!==(u=t(d))&&0===u.start)break;if(null===e||!(0===e.start&&r.$isTextNode(o)&&o.isTextEntity())&&(0===e.start?[c,a]=a.splitText(e.end):[,c,a]=a.splitText(e.start,e.end),(e=i(c)).setFormat(c.getFormat()),c.replace(e),null==a))break}}}),e=e.registerNodeTransform(n,e=>{var i=e.getTextContent();let o=t(i);null===o||0!==o.start?l(e):i.length>o.end?e.splitText(o.end):(i=e.getPreviousSibling(),r.$isTextNode(i)&&i.isTextEntity()&&(l(i),l(e)),i=e.getNextSibling(),r.$isTextNode(i)&&i.isTextEntity()&&(l(i),e instanceof n&&l(e)))})]}},257176:(e,t,n)=>{let r=n(442153);e.exports=r},442153:(e,t,n)=>{var r=n(528851),i=n(133737);function l(e,t){for(let n of t)if(e.type.startsWith(n))return!0;return!1}function o(e,t){for(;e!==i.$getRoot()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function s(e){return 1===e.nodeType}t.$splitNode=i.$splitNode,t.$dfs=function(e,t){let n=[];e=(e||i.$getRoot()).getLatest(),t=t||(i.$isElementNode(e)?e.getLastDescendant():e);for(var r=e,l=0;null!==(r=r.getParent());)l++;for(r=l;null!==e&&!e.is(t);)if(n.push({depth:r,node:e}),i.$isElementNode(e)&&0<e.getChildrenSize())e=e.getFirstChild(),r++;else for(l=null;null===l&&null!==e;)null===(l=e.getNextSibling())?(e=e.getParent(),r--):e=l;return null!==e&&e.is(t)&&n.push({depth:r,node:e}),n},t.$findMatchingParent=o,t.$getNearestBlockElementAncestorOrThrow=function(e){if(e=o(e,e=>i.$isElementNode(e)&&!e.isInline()),!i.$isElementNode(e))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e},t.$getNearestNodeOfType=function(e,t){for(;null!=e;){if(e instanceof t)return e;e=e.getParent()}return null},t.$insertNodeToNearestRoot=function(e){var t=i.$getSelection();if(i.$isRangeSelection(t)){var{focus:n}=t;if(t=n.getNode(),n=n.offset,i.$isRootOrShadowRoot(t))null==(n=t.getChildAtIndex(n))?t.append(e):n.insertBefore(e),e.selectNext();else{let r,l;i.$isTextNode(t)?(r=t.getParentOrThrow(),l=t.getIndexWithinParent(),0<n&&(l+=1,t.splitText(n))):(r=t,l=n),[,t]=i.$splitNode(r,l),t.insertBefore(e),t.selectStart()}}else i.$isNodeSelection(t)||i.DEPRECATED_$isGridSelection(t)?(t=t.getNodes())[t.length-1].getTopLevelElementOrThrow().insertAfter(e):i.$getRoot().append(e),t=i.$createParagraphNode(),e.insertAfter(t),t.select();return e.getLatest()},t.$restoreEditorState=function(e,t){let n=new Map,l=e._pendingEditorState;for(let[e,l]of t._nodeMap){let t=r.$cloneWithProperties(l);i.$isTextNode(t)&&(t.__text=l.__text),n.set(e,t)}l&&(l._nodeMap=n),e._dirtyType=2,e=t._selection,i.$setSelection(null===e?null:e.clone())},t.$wrapNodeInElement=function(e,t){return t=t(),e.replace(t),t.append(e),t},t.addClassNamesToElement=function(e,...t){t.forEach(t=>{"string"==typeof t&&(t=t.split(" ").filter(e=>""!==e),e.classList.add(...t))})},t.isHTMLAnchorElement=function(e){return s(e)&&"A"===e.tagName},t.isHTMLElement=s,t.isMimeType=l,t.mediaFileReader=function(e,t){let n=e[Symbol.iterator]();return new Promise((e,r)=>{let i=[],o=()=>{let{done:s,value:a}=n.next();if(s)return e(i);let u=new FileReader;u.addEventListener("error",r),u.addEventListener("load",()=>{let e=u.result;"string"==typeof e&&i.push({file:a,result:e}),o()}),l(a,t)?u.readAsDataURL(a):o()};o()})},t.mergeRegister=function(...e){return()=>{e.forEach(e=>e())}},t.registerNestedElementResolver=function(e,t,n,r){return e.registerNodeTransform(t,e=>{e:{for(var i=e.getChildren(),l=0;l<i.length;l++)if(i[l]instanceof t){i=null;break e}for(i=e;null!==i;)if(l=i,(i=i.getParent())instanceof t){i={child:l,parent:i};break e}i=null}if(null!==i){let{child:t,parent:o}=i;if(t.is(e)){if(r(o,e),i=(e=t.getNextSiblings()).length,o.insertAfter(t),0!==i){l=n(o),t.insertAfter(l);for(let t=0;t<i;t++)l.append(e[t])}o.canBeEmpty()||0!==o.getChildrenSize()||o.remove()}}})},t.removeClassNamesFromElement=function(e,...t){t.forEach(t=>{"string"==typeof t&&e.classList.remove(...t.split(" "))})}},133737:(e,t,n)=>{let r=n(388526);e.exports=r},388526:(e,t)=>{let n={},r={},i={},l={},o={},s={},a={},u={},d={},c={},f={},g={},h={},_={},p={},m={},y={},C={},v={},N={},x={},T={},E={},S={},D={},O={},M={},R={},w={},A={},b={},k={},P={},$={},I={};function L(e){throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?code=${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let F="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,B=F&&"documentMode"in document?document.documentMode:null,z=F&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),W=F&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),K=!!(F&&"InputEvent"in window)&&!B&&"getTargetRanges"in new window.InputEvent("input"),Y=F&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),G=F&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,H=F&&/^(?=.*Chrome).*/i.test(navigator.userAgent),U=F&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!H,J=Y||G||U?"\xa0":"\u200B",V=W?"\xa0":J,j=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,q=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,X={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Q={directionless:1,unmergeable:2},Z={center:2,end:6,justify:4,left:1,right:3,start:5},ee={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},et={normal:0,segmented:2,token:1},en={0:"normal",2:"segmented",1:"token"},er=!1,ei=0;function el(e){ei=e.timeStamp}function eo(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function es(e,t,n){er=!0;let r=100<performance.now()-ei;try{n1(e,()=>{let i=nw()||e.getEditorState().read(()=>{let e=nw();return null!==e?e.clone():null});var l=new Map,o=e.getRootElement(),s=e._editorState,a=e._blockCursorElement;let u=!1,d="";for(var c=0;c<t.length;c++){var f=t[c],g=f.type,h=f.target,_=eD(h,s);if(!(null===_&&h!==o||n3(_))){if("characterData"===g){if(f=r&&nl(_))e:{f=i,g=h;var p=_;if(nh(f)){var m=f.anchor.getNode();if(m.is(p)&&f.format!==m.getFormat()){f=!1;break e}}f=3===g.nodeType&&p.isAttached()}f&&(p=e0(e._window),g=f=null,null!==p&&p.anchorNode===h&&(f=p.anchorOffset,g=p.focusOffset),h=h.nodeValue,null!==h&&eI(_,h,f,g,!1))}else if("childList"===g){for(p=0,u=!0,g=f.addedNodes;p<g.length;p++){m=g[p];var y=eS(m),C=m.parentNode;null==C||m===a||null!==y||"BR"===m.nodeName&&eo(m,C,e)||(W&&(y=m.innerText||m.nodeValue)&&(d+=y),C.removeChild(m))}if(g=(f=f.removedNodes).length,0<g){for(m=0,p=0;m<g;m++)C=f[m],("BR"===C.nodeName&&eo(C,h,e)||a===C)&&(h.appendChild(C),p++);g!==p&&(h===o&&(_=s._nodeMap.get("root")),l.set(h,_))}}}}if(0<l.size)for(let[t,n]of l)if(n5(n))for(l=n.getChildrenKeys(),o=t.firstChild,s=0;s<l.length;s++)a=e.getElementByKey(l[s]),null!==a&&(null==o?(t.appendChild(a),o=a):o!==a&&t.replaceChild(a,o),o=o.nextSibling);else nl(n)&&n.markDirty();if(l=n.takeRecords(),0<l.length){for(o=0;o<l.length;o++)for(s=(a=l[o]).addedNodes,a=a.target,c=0;c<s.length;c++)h=(_=s[c]).parentNode,null==h||"BR"!==_.nodeName||eo(_,a,e)||h.removeChild(_);n.takeRecords()}null!==i&&(u&&(i.dirty=!0,ew(i)),W&&eW(e)&&i.insertRawText(d))})}finally{er=!1}}function ea(e){let t=e._observer;null!==t&&es(e,t.takeRecords(),t)}function eu(e){0===ei&&eU(e).addEventListener("textInput",el,!0),e._observer=new MutationObserver((t,n)=>{es(e,t,n)})}let ed=1,ec="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function ef(e){let t=document.activeElement;if(null===t)return!1;let n=t.nodeName;return n3(eD(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function eg(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!ef(t)&&eh(t)===e}catch(e){return!1}}function eh(e){for(;null!=e;){let t=e.__lexicalEditor;if(null!=t)return t;e=eG(e)}return null}function e_(e){return e.isToken()||e.isSegmented()}function ep(e){for(;null!=e;){if(3===e.nodeType)return e;e=e.firstChild}return null}function em(e,t,n){return e&(t=X[t])&&(null===n||0==(n&t))?e^t:null===n||n&t?e|t:e}function ey(e){return nl(e)||tZ(e)||n3(e)}function eC(e,t){if(null!=t)e.__key=t;else{nG(),99<nW&&L(14),t=nU();var n=nH(),r=""+ed++;n._nodeMap.set(r,e),n5(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function ev(e){var t=e.getParent();if(null!==t){let i=e.getWritable();t=t.getWritable();var n=e.getPreviousSibling();if(e=e.getNextSibling(),null===n){if(null!==e){var r=e.getWritable();t.__first=e.__key,r.__prev=null}else t.__first=null}else{if(r=n.getWritable(),null!==e){let t=e.getWritable();t.__prev=r.__key,r.__next=t.__key}else r.__next=null;i.__prev=null}null===e?null!==n?(e=n.getWritable(),t.__last=n.__key,e.__next=null):t.__last=null:(e=e.getWritable(),null!==n?((n=n.getWritable()).__next=e.__key,e.__prev=n.__key):e.__prev=null,i.__next=null),t.__size--,i.__parent=null}}function eN(e){99<nW&&L(14);var t=e.getLatest(),n=t.__parent,r=nH();let i=nU(),l=r._nodeMap;if(r=i._dirtyElements,null!==n)for(;null!==n&&!r.has(n);){let e=l.get(n);if(void 0===e)break;r.set(n,!1),n=e.__parent}t=t.__key,i._dirtyType=1,n5(e)?r.set(t,!0):i._dirtyLeaves.add(t)}function ex(e){nG();var t=nU();let n=t._compositionKey;e!==n&&(t._compositionKey=e,null!==n&&null!==(t=eE(n))&&t.getWritable(),null!==e&&null!==(e=eE(e))&&e.getWritable())}function eT(){return nY()?null:nU()._compositionKey}function eE(e,t){return void 0===(e=(t||nH())._nodeMap.get(e))?null:e}function eS(e,t){let n=nU();return void 0!==(e=e[`__lexicalKey_${n._key}`])?eE(e,t):null}function eD(e,t){for(;null!=e;){let n=eS(e,t);if(null!==n)return n;e=eG(e)}return null}function eO(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t}function eM(e){return e.read(()=>eR().getTextContent())}function eR(){return nH()._nodeMap.get("root")}function ew(e){nG();let t=nH();null!==e&&(e.dirty=!0,e._cachedNodes=null),t._selection=e}function eA(e){var t,n=nU();e:{for(t=e;null!=t;){let e=t[`__lexicalKey_${n._key}`];if(void 0!==e){t=e;break e}t=eG(t)}t=null}return null===t?e===(n=n.getRootElement())?eE("root"):null:eE(t)}function eb(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function ek(e){let t=[];for(;null!==e;)t.push(e),e=e._parentEditor;return t}function eP(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function e$(e,t,n){if(null!==(t=e0(t._window))){var r=t.anchorNode,{anchorOffset:i,focusOffset:l}=t;if(null!==r&&(t=3===r.nodeType?r.nodeValue:null,r=eD(r),null!==t&&nl(r))){if(t===J&&n){let e=n.length;t=n,l=i=e}null!==t&&eI(r,t,i,l,e)}}}function eI(e,t,n,r,i){let l=e;if(l.isAttached()&&(i||!l.isDirty())){let u=l.isComposing(),d=t;if((u||i)&&t[t.length-1]===J&&(d=t.slice(0,-1)),t=l.getTextContent(),i||d!==t){if(""===d){if(ex(null),Y||G||U)l.remove();else{let e=nU();setTimeout(()=>{e.update(()=>{l.isAttached()&&l.remove()})},20)}}else{i=l.getParent(),t=nA();var o=l.getTextContentSize(),s=eT(),a=l.getKey();l.isToken()||null!==s&&a===s&&!u||nh(t)&&(null!==i&&!i.canInsertTextBefore()&&0===t.anchor.offset||t.anchor.key===e.__key&&0===t.anchor.offset&&!l.canInsertTextBefore()||t.focus.key===e.__key&&t.focus.offset===o&&!l.canInsertTextAfter())?l.markDirty():(nh(e=nw())&&null!==n&&null!==r&&(e.setTextNodeRange(l,n,l,r),l.isSegmented()&&(n=ni(n=l.getTextContent()),l.replace(n),l=n)),l.setTextContent(d))}}}}function eL(e,t){var n=e[t];return"string"==typeof n?(n=n.split(" "),e[t]=n):n}function eF(e,t,n,r,i){0!==n.size&&(n=r.__key,void 0===(t=t.get(r.__type))&&L(33),r=t.klass,void 0===(t=e.get(r))&&(t=new Map,e.set(r,t)),r="destroyed"===(e=t.get(n))&&"created"===i,(void 0===e||r)&&t.set(n,r?"updated":i))}function eB(e,t,n){let r=e.getParent(),i=n;return null!==r&&(t&&0===n?(i=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(i=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?i-1:i)}function ez(e,t){var n=e.offset;return"element"===e.type?eB(e=e.getNode(),t,n):(e=e.getNode(),t&&0===n||!t&&n===e.getTextContentSize()?null===(n=t?e.getPreviousSibling():e.getNextSibling())?eB(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n:null)}function eW(e){return"insertFromPaste"===(e=(e=eU(e).event)&&e.inputType)||"insertFromPasteAsQuotation"===e}function eK(e){return!n9(e)&&!e.isLastChild()&&!e.isInline()}function eY(e,t){return void 0===(e=e._keyToDOMMap.get(t))&&L(75),e}function eG(e){return null!==(e=e.assignedSlot||e.parentElement)&&11===e.nodeType?e.host:e}function eH(e,t){for(e=e.getParent();null!==e;){if(e.is(t))return!0;e=e.getParent()}return!1}function eU(e){return null===(e=e._window)&&L(78),e}function eJ(e){for(e=e.getParentOrThrow();null!==e&&!eV(e);)e=e.getParentOrThrow();return e}function eV(e){return n9(e)||n5(e)&&e.isShadowRoot()}function ej(e){return eC(e=e.constructor.clone(e),null),e}function eq(e){var t=nU();let n=e.constructor.getType();return void 0===(t=t._nodes.get(n))&&L(97),null!==(t=t.replace)?((t=t(e))instanceof e.constructor||L(98),t):e}function eX(e,t){!n9(e=e.getParent())||n5(t)||n3(t)||L(99)}function eQ(e){return(n3(e)||n5(e)&&!e.canBeEmpty())&&!e.isInline()}function eZ(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,null!==(t=e.parentElement)&&t.removeChild(e)}function e0(e){return F?(e||window).getSelection():null}function e1(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),eV(e)&&L(102);let r=e=>{let t=e.getParentOrThrow(),i=eV(t),l=e!==n||i?ej(e):e;if(i)return e.insertAfter(l),[e,l,l];let[o,s,a]=r(t);return e=e.getNextSiblings(),a.append(l,...e),[o,s,l]},[i,l]=r(n);return[i,l]}function e2(e,t){for(;e!==eR()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function e3(e,t){let n=e.__mode,r=e.__format;e=e.__style;let i=t.__mode,l=t.__format;return t=t.__style,(null===n||n===i)&&(null===r||r===l)&&(null===e||e===t)}function e7(e,t){let n=e.mergeWithSibling(t),r=nU()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function e5(e){if(""===e.__text&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t,n;null!==(t=e.getPreviousSibling())&&nl(t)&&t.isSimpleText()&&!t.isUnmergeable();)if(""===t.__text)t.remove();else{e3(t,e)&&(e=e7(t,e));break}for(;null!==(n=e.getNextSibling())&&nl(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(""===n.__text)n.remove();else{e3(e,n)&&e7(e,n);break}}}function e8(e){return e6(e.anchor),e6(e.focus),e}function e6(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),nl(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}if(!n5(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}let e9="",e4="",te="",tt,tn,tr,ti=!1,tl=!1,to,ts=null,ta,tu,td,tc,tf,tg;function th(e,t){let n=td.get(e);if(null!==t){let n=tO(e);n.parentNode===t&&t.removeChild(n)}tc.has(e)||tn._keyToDOMMap.delete(e),n5(n)&&t_(e=tE(n,td),0,e.length-1,null),void 0!==n&&eF(tg,tr,to,n,"destroyed")}function t_(e,t,n,r){for(;t<=n;++t){let n=e[t];void 0!==n&&th(n,r)}}function tp(e,t){e.setProperty("text-align",t)}function tm(e,t){var n=tt.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px",e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${n})`)}function ty(e,t){e=e.style,0===t?tp(e,""):1===t?tp(e,"left"):2===t?tp(e,"center"):3===t?tp(e,"right"):4===t?tp(e,"justify"):5===t?tp(e,"start"):6===t&&tp(e,"end")}function tC(e,t,n){let r=tc.get(e);void 0===r&&L(60);let i=r.createDOM(tt,tn);var l=tn._keyToDOMMap;if(i["__lexicalKey_"+tn._key]=e,l.set(e,i),nl(r)?i.setAttribute("data-lexical-text","true"):n3(r)&&i.setAttribute("data-lexical-decorator","true"),n5(r)){if(e=r.__indent,l=r.__size,0!==e&&tm(i,e),0!==l){--l,e=tE(r,tc);var o=e4;e4="",tv(e,r,0,l,i,null),tT(r,i),e4=o}0!==(e=r.__format)&&ty(i,e),r.isInline()||tx(null,r,i),eK(r)&&(e9+="\n\n",te+="\n\n")}else l=r.getTextContent(),n3(r)?(null!==(o=r.decorate(tn,tt))&&tS(e,o),i.contentEditable="false"):nl(r)&&(r.isDirectionless()||(e4+=l)),e9+=l,te+=l;return null!==t&&(null!=n?t.insertBefore(i,n):null!=(n=t.__lexicalLineBreak)?t.insertBefore(i,n):t.appendChild(i)),eF(tg,tr,to,r,"created"),i}function tv(e,t,n,r,i,l){let o=e9;for(e9="";n<=r;++n)tC(e[n],i,l);eK(t)&&(e9+="\n\n"),i.__lexicalTextContent=e9,e9=o+e9}function tN(e,t){return tZ(e=t.get(e))||n3(e)&&e.isInline()}function tx(e,t,n){e=null!==e&&(0===e.__size||tN(e.__last,td)),t=0===t.__size||tN(t.__last,tc),e?t||(null!=(t=n.__lexicalLineBreak)&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function tT(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==e4||n!==ts){let l=""===e4;if(l)var r=ts;else r=e4,r=j.test(r)?"rtl":q.test(r)?"ltr":null;if(r!==n){let o=t.classList,s=tt.theme;var i=null!==n?s[n]:void 0;let a=null!==r?s[r]:void 0;void 0!==i&&("string"==typeof i&&(i=i.split(" "),i=s[n]=i),o.remove(...i)),null===r||l&&"ltr"===r?t.removeAttribute("dir"):(void 0!==a&&("string"==typeof a&&(n=a.split(" "),a=s[r]=n),void 0!==a&&o.add(...a)),t.dir=r),tl||(e.getWritable().__dir=r)}ts=r,t.__lexicalDirTextContent=e4,t.__lexicalDir=r}}function tE(e,t){let n=[];for(e=e.__first;null!==e;){let r=t.get(e);void 0===r&&L(101),n.push(e),e=r.__next}return n}function tS(e,t){let n=tn._pendingDecorators,r=tn._decorators;if(null===n){if(r[e]===t)return;n=eO(tn)}n[e]=t}function tD(e){return null!==(e=e.nextSibling)&&e===tn._blockCursorElement&&(e=e.nextSibling),e}function tO(e){return void 0===(e=tf.get(e))&&L(75),e}let tM=Object.freeze({}),tR=[["keydown",function(e,t){if(tw=e.timeStamp,tA=e.keyCode,!t.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:o,metaKey:s,altKey:a}=e;if(!nQ(t,_,e)){if(39!==n||o||s||a){if(39!==n||a||r||!o&&!s){if(37!==n||o||s||a){if(37!==n||a||r||!o&&!s){if(38!==n||o||s){if(40!==n||o||s){if(13===n&&r)tL=!0,nQ(t,x,e);else if(32===n)nQ(t,T,e);else if(z&&o&&79===n)e.preventDefault(),tL=!0,nQ(t,l,!0);else if(13!==n||r){if(z?a||s?0:8===n||72===n&&o:o||a||s?0:8===n)8===n?nQ(t,E,e):(e.preventDefault(),nQ(t,i,!0));else if(27===n)nQ(t,S,e);else if(z?r||a||s?0:46===n||68===n&&o:o||a||s?0:46===n)46===n?nQ(t,D,e):(e.preventDefault(),nQ(t,i,!1));else if(8===n&&(z?a:o))e.preventDefault(),nQ(t,d,!0);else if(46===n&&(z?a:o))e.preventDefault(),nQ(t,d,!1);else if(z&&s&&8===n)e.preventDefault(),nQ(t,c,!0);else if(z&&s&&46===n)e.preventDefault(),nQ(t,c,!1);else if(66===n&&!a&&(z?s:o))e.preventDefault(),nQ(t,f,"bold");else if(85===n&&!a&&(z?s:o))e.preventDefault(),nQ(t,f,"underline");else if(73===n&&!a&&(z?s:o))e.preventDefault(),nQ(t,f,"italic");else if(9!==n||a||o||s){if(90===n&&!r&&(z?s:o))e.preventDefault(),nQ(t,g,void 0);else{var u=z?90===n&&s&&r:89===n&&o||90===n&&o&&r;u?(e.preventDefault(),nQ(t,h,void 0)):ny(t._editorState._selection)&&((u=!r&&67===n&&(z?s:o))?(e.preventDefault(),nQ(t,b,e)):(u=!r&&88===n&&(z?s:o))?(e.preventDefault(),nQ(t,k,e)):65===n&&(z?s:o)&&(e.preventDefault(),t.update(()=>{let e=eR();e.select(0,e.getChildrenSize())})))}}else nQ(t,O,e)}else tL=!1,nQ(t,x,e)}else nQ(t,N,e)}else nQ(t,v,e)}else nQ(t,C,e)}else nQ(t,y,e)}else nQ(t,m,e)}else nQ(t,p,e);(o||r||a||s)&&nQ(t,I,e)}}}],["pointerdown",function(e,t){let n=e.target;e=e.pointerType,n instanceof Node&&"touch"!==e&&n1(t,()=>{n3(eD(n))||(tI=!0)})}],["compositionstart",function(e,t){n1(t,()=>{let n=nw();if(nh(n)&&!t.isComposing()){let r=n.anchor,i=n.anchor.getNode();ex(r.key),(e.timeStamp<tw+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&nQ(t,s,V)}})}],["compositionend",function(e,t){W?tF=!0:n1(t,()=>{tG(t,e.data)})}],["input",function(e,t){e.stopPropagation(),n1(t,()=>{var n=nw(),r=e.data,i=tY(e);if(null!=r&&nh(n)&&tz(n,i,r,e.timeStamp,!1)){tF&&(tG(t,r),tF=!1);var l=n.anchor,o=l.getNode();if(null===(i=e0(t._window)))return;let a=l.offset;(l=K&&!n.isCollapsed()&&nl(o)&&null!==i.anchorNode)&&(l=(o=o.getTextContent().slice(0,a)+r+o.getTextContent().slice(a+n.focus.offset))===(3===(i=i.anchorNode).nodeType?i.nodeValue:null)),l||nQ(t,s,r),r=r.length,W&&1<r&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=r),Y||G||U||!t.isComposing()||(tw=0,ex(null))}else e$(!1,t,null!==r?r:void 0),tF&&(tG(t,r||void 0),tF=!1);nG(),ea(n=nU())}),tk=null}],["click",function(e,t){n1(t,()=>{let n=nw();var i=e0(t._window);let l=nA();if(i){if(nh(n)){let t=n.anchor;var o=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!n9(o)&&1===eR().getChildrenSize()&&o.getTopLevelElementOrThrow().isEmpty()&&null!==l&&n.is(l)?(i.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||o!==(i=n.focus.getNode())&&(n5(o)?o.select(0):o.getParentOrThrow().select(0))}else"touch"===e.pointerType&&null!==(o=i.anchorNode)&&(1===(o=o.nodeType)||3===o)&&ew(i=nR(l,i,t))}nQ(t,r,e)})}],["cut",tM],["copy",tM],["dragstart",tM],["dragover",tM],["dragend",tM],["paste",tM],["focus",tM],["blur",tM],["drop",tM]];K&&tR.push(["beforeinput",(e,t)=>(function(e,t){let n=e.inputType,r=tY(e);"deleteCompositionText"===n||W&&eW(t)||"insertCompositionText"!==n&&n1(t,()=>{let _=nw();if("deleteContentBackward"===n){if(null===_){var p=nA();if(!nh(p))return;ew(p.clone())}if(nh(_)){229===tA&&e.timeStamp<tw+30&&t.isComposing()&&_.anchor.key===_.focus.key?(ex(null),tw=0,setTimeout(()=>{n1(t,()=>{ex(null)})},30),nh(_)&&((p=_.anchor.getNode()).markDirty(),_.format=p.getFormat(),_.style=p.getStyle())):(e.preventDefault(),nQ(t,i,!0));return}}if(nh(_)){p=e.data,null!==tk&&e$(!1,t,tk),_.dirty&&null===tk||!_.isCollapsed()||n9(_.anchor.getNode())||null===r||_.applyDOMRange(r),tk=null;var m,y=_.focus,C=_.anchor.getNode();if(y=y.getNode(),"insertText"===n||"insertTranspose"===n)"\n"===p?(e.preventDefault(),nQ(t,l,!1)):"\n\n"===p?(e.preventDefault(),nQ(t,o,void 0)):null==p&&e.dataTransfer?(p=e.dataTransfer.getData("text/plain"),e.preventDefault(),_.insertRawText(p)):null!=p&&tz(_,r,p,e.timeStamp,!0)?(e.preventDefault(),nQ(t,s,p)):tk=p,tb=e.timeStamp;else switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":nQ(t,s,e);break;case"insertFromComposition":ex(null),nQ(t,s,e);break;case"insertLineBreak":ex(null),nQ(t,l,!1);break;case"insertParagraph":ex(null),tL?(tL=!1,nQ(t,l,!1)):nQ(t,o,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":nQ(t,a,e);break;case"deleteByComposition":(C!==(m=y)||n5(C)||n5(m)||!C.isToken()||!m.isToken())&&nQ(t,u,void 0);break;case"deleteByDrag":case"deleteByCut":nQ(t,u,void 0);break;case"deleteContent":nQ(t,i,!1);break;case"deleteWordBackward":nQ(t,d,!0);break;case"deleteWordForward":nQ(t,d,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":nQ(t,c,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":nQ(t,c,!1);break;case"formatStrikeThrough":nQ(t,f,"strikethrough");break;case"formatBold":nQ(t,f,"bold");break;case"formatItalic":nQ(t,f,"italic");break;case"formatUnderline":nQ(t,f,"underline");break;case"historyUndo":nQ(t,g,void 0);break;case"historyRedo":nQ(t,h,void 0)}}})})(e,t)]);let tw=0,tA=0,tb=0,tk=null,tP=0,t$=!1,tI=!1,tL=!1,tF=!1,tB=[0,"",0,"root",0];function tz(e,t,n,r,i){let l=e.anchor,o=e.focus,s=l.getNode();var a=nU();let u=e0(a._window),d=null!==u?u.anchorNode:null,c=l.key;a=a.getElementByKey(c);let f=n.length;return c!==o.key||!nl(s)||(!i&&(!K||tb<r+50)||s.isDirty()&&2>f||eb(n))&&l.offset!==o.offset&&!s.isComposing()||e_(s)||s.isDirty()&&1<f||(i||!K)&&null!==a&&!s.isComposing()&&d!==ep(a)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;let n=t.getParentOrThrow(),r=t.isToken();return 0===e?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=(nl(t=t.getPreviousSibling())||n5(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()||r)}(e,s)}function tW(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function tK(e,t,r){let{anchorNode:i,anchorOffset:l,focusNode:o,focusOffset:s}=e;t$&&(t$=!1,tW(i,l)&&tW(o,s))||n1(t,()=>{if(r){if(eg(t,i,o)){var l=nw();if(nh(l)){var s=l.anchor,a=s.getNode();if(l.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(l.dirty=!0);var u=eU(t).event;u=u?u.timeStamp:performance.now();let[n,r,i,o,d]=tB;u<d+200&&s.offset===i&&s.key===o?(l.format=n,l.style=r):"text"===s.type?(l.format=a.getFormat(),l.style=a.getStyle()):"element"===s.type&&(l.format=0,l.style="")}else{s=255,a=!1;let e=(u=l.getNodes()).length;for(let t=0;t<e;t++){let e=u[t];if(nl(e)&&(a=!0,0==(s&=e.getFormat())))break}l.format=a?s:0}}nQ(t,n,void 0)}}else ew(null)})}function tY(e){return e.getTargetRanges?0===(e=e.getTargetRanges()).length?null:e[0]:null}function tG(e,t){var n=e._compositionKey;if(ex(null),null!==n&&null!=t){if(""===t){t=eE(n),null!==(e=ep(e.getElementByKey(n)))&&null!==e.nodeValue&&nl(t)&&eI(t,e.nodeValue,null,null,!0);return}if("\n"===t[t.length-1]&&nh(n=nw())){t=n.focus,n.anchor.set(t.key,t.offset,t.type),nQ(e,x,null);return}}e$(!0,e,t)}function tH(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}let tU=new Map;function tJ(e){let t=e0(null==(e=e.target)?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null!==t){var n=eh(t.anchorNode);if(null!==n){tI&&(tI=!1,n1(n,()=>{var e=nA(),r=t.anchorNode;null!==r&&(1===(r=r.nodeType)||3===r)&&ew(e=nR(e,t,n))}));var r=(e=(e=ek(n))[e.length-1])._key,i=tU.get(r),l=i||e;l!==n&&tK(t,l,!1),tK(t,n,!0),n!==e?tU.set(r,n):i&&tU.delete(r)}}}function tV(e,t,n){nG();var r=e.__key;let i=e.getParent();if(null!==i){var l=function(e,t=0){if(0!==t&&L(1),!nh(t=nw())||!n5(e))return t;let{anchor:n,focus:r}=t,i=n.getNode(),l=r.getNode();return eH(i,e)&&n.set(e.__key,0,"element"),eH(l,e)&&r.set(e.__key,0,"element"),t}(e),o=!1;if(nh(l)&&t){let t=l.anchor,n=l.focus;t.key===r&&(nP(t,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0),n.key===r&&(nP(n,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0)}nh(l)&&t&&!o?(r=e.getIndexWithinParent(),ev(e),nb(l,i,r,-1)):ev(e),n||eV(i)||i.canBeEmpty()||!i.isEmpty()||tV(i,t),t&&n9(i)&&i.isEmpty()&&i.selectEnd()}}class tj{static getType(){L(64)}static clone(){L(65)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,eC(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;null!==e;){if("root"===e)return!0;if(null===(e=eE(e)))break;e=e.__parent}return!1}isSelected(e){if(null==(e=e||nw()))return!1;let t=e.getNodes().some(e=>e.__key===this.__key);return nl(this)?t:(!nh(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(null===e)return -1;e=e.getFirstChild();let t=0;for(;null!==e;){if(this.is(e))return t;t++,e=e.getNextSibling()}return -1}getParent(){let e=this.getLatest().__parent;return null===e?null:eE(e)}getParentOrThrow(){let e=this.getParent();return null===e&&L(66),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(eV(t))return e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&L(67),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:eE(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(null===t)return e;for(t=t.getFirstChild();null!==t&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:eE(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var n=e.getParents();n5(this)&&t.unshift(this),n5(e)&&n.unshift(e),e=t.length;var r=n.length;if(0===e||0===r||t[e-1]!==n[r-1])return null;for(r=0,n=new Set(n);r<e;r++){let e=t[r];if(n.has(e))return e}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let n=this;for(;;){var r=n.getParentOrThrow();if(r===t){r=n.getIndexWithinParent();break}n=r}for(n=e;;){if((e=n.getParentOrThrow())===t){t=n.getIndexWithinParent();break}n=e}return r<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;null!==e;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),n=[],r=new Set;for(var i=this;;){var l=i.__key;if(r.has(l)||(r.add(l),n.push(i)),i===e)break;if(null!==(l=n5(i)?t?i.getFirstChild():i.getLastChild():null))i=l;else if(null!==(l=t?i.getNextSibling():i.getPreviousSibling()))i=l;else{if(i=i.getParentOrThrow(),r.has(i.__key)||n.push(i),i===e)break;l=i;do null===l&&L(68),i=t?l.getNextSibling():l.getPreviousSibling(),null!==(l=l.getParent())&&(null!==i||r.has(l.__key)||n.push(l));while(null===i)}}return t||n.reverse(),n}isDirty(){let e=nU()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=eE(this.__key);return null===e&&L(113),e}getWritable(){nG();var e=nH(),t=nU();e=e._nodeMap;let n=this.__key,r=this.getLatest(),i=r.__parent;t=t._cloneNotNeeded;var l=nw();return(null!==l&&(l._cachedNodes=null),t.has(n))?(eN(r),r):((l=r.constructor.clone(r)).__parent=i,l.__next=r.__next,l.__prev=r.__prev,n5(r)&&n5(l)?(l.__first=r.__first,l.__last=r.__last,l.__size=r.__size,l.__indent=r.__indent,l.__format=r.__format,l.__dir=r.__dir):nl(r)&&nl(l)&&(l.__format=r.__format,l.__style=r.__style,l.__mode=r.__mode,l.__detail=r.__detail),t.add(n),l.__key=n,eN(l),e.set(n,l),l)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){L(70)}updateDOM(){L(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){L(72)}static importJSON(){L(18)}static transform(){return null}remove(e){tV(this,!0,e)}replace(e,t){nG();var n=nw();null!==n&&(n=n.clone()),eX(this,e);let r=this.getLatest(),i=this.__key,l=e.__key,o=e.getWritable(),s=(e=this.getParentOrThrow().getWritable()).__size;ev(o);let a=r.getPreviousSibling(),u=r.getNextSibling(),d=r.__prev,c=r.__next,f=r.__parent;return tV(r,!1,!0),null===a?e.__first=l:a.getWritable().__next=l,o.__prev=d,null===u?e.__last=l:u.getWritable().__prev=l,o.__next=c,o.__parent=f,e.__size=s,t&&this.getChildren().forEach(e=>{o.append(e)}),nh(n)&&(ew(n),t=n.anchor,n=n.focus,t.key===i&&nd(t,o),n.key===i&&nd(n,o)),eT()===i&&ex(l),o}insertAfter(e,t=!0){nG(),eX(this,e);var n=this.getWritable();let r=e.getWritable();var i=r.getParent();let l=nw();var o=!1,s=!1;if(null!==i){var a=e.getIndexWithinParent();ev(r),nh(l)&&(s=i.__key,o=l.anchor,i=l.focus,o="element"===o.type&&o.key===s&&o.offset===a+1,s="element"===i.type&&i.key===s&&i.offset===a+1)}i=this.getNextSibling(),a=this.getParentOrThrow().getWritable();let u=r.__key,d=n.__next;return null===i?a.__last=u:i.getWritable().__prev=u,a.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&nh(l)&&(nb(l,a,(t=this.getIndexWithinParent())+1),n=a.__key,o&&l.anchor.set(n,t+2,"element"),s&&l.focus.set(n,t+2,"element")),e}insertBefore(e,t=!0){nG(),eX(this,e);var n=this.getWritable();let r=e.getWritable(),i=r.__key;ev(r);let l=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),s=n.__prev,a=this.getIndexWithinParent();return null===l?o.__first=i:l.getWritable().__next=i,o.__size++,n.__prev=i,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent,n=nw(),t&&nh(n)&&nb(n,t=this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return rr()}selectPrevious(e,t){nG();let n=this.getPreviousSibling(),r=this.getParentOrThrow();return null===n?r.select(0,0):n5(n)?n.select():nl(n)?n.select(e,t):(e=n.getIndexWithinParent()+1,r.select(e,e))}selectNext(e,t){nG();let n=this.getNextSibling(),r=this.getParentOrThrow();return null===n?r.select():n5(n)?n.select(0,0):nl(n)?n.select(e,t):(e=n.getIndexWithinParent(),r.select(e,e))}markDirty(){this.getWritable()}}class tq extends tj{static getType(){return"linebreak"}static clone(e){return new tq(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t=e.parentElement,n,r;return null!==t&&((n=t.firstChild)===e||n.nextSibling===e&&3===n.nodeType&&null!==(n.textContent||"").match(/^[\s|\r?\n|\t]+$/))&&((r=t.lastChild)===e||r.previousSibling===e&&3===r.nodeType&&null!==(r.textContent||"").match(/^[\s|\r?\n|\t]+$/))?null:{conversion:tX,priority:0}}}}static importJSON(){return tQ()}exportJSON(){return{type:"linebreak",version:1}}}function tX(){return{node:tQ()}}function tQ(){return eq(new tq)}function tZ(e){return e instanceof tq}function t0(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function t1(e,t){return 1&t?"strong":2&t?"em":"span"}function t2(e,t,n,r,i){e=r.classList,void 0!==(r=eL(i,"base"))&&e.add(...r);let l=!1,o=8&t&&4&t;var s=8&n&&4&n;for(let a in void 0!==(r=eL(i,"underlineStrikethrough"))&&(s?(l=!0,o||e.add(...r)):o&&e.remove(...r)),X)s=X[a],void 0!==(r=eL(i,a))&&(n&s?l&&("underline"===a||"strikethrough"===a)?t&s&&e.remove(...r):(0==(t&s)||o&&"underline"===a||"strikethrough"===a)&&e.add(...r):t&s&&e.remove(...r))}function t3(e,t,n){let r=t.firstChild;if(e+=(n=n.isComposing())?J:"",null==r)t.textContent=e;else if((t=r.nodeValue)!==e){if(n||W){n=t.length;let i=e.length,l=0,o=0;for(;l<n&&l<i&&t[l]===e[l];)l++;for(;o+l<n&&o+l<i&&t[n-o-1]===e[i-o-1];)o++;let[s,a,u]=e=[l,n-l-o,e.slice(l,i-o)];0!==a&&r.deleteData(s,a),r.insertData(s,u)}else r.nodeValue=e}}function t7(e,t){return(t=document.createElement(t)).appendChild(e),t}class t5 extends tj{static getType(){return"text"}static clone(e){return new t5(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return en[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===eT()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(e){return e=X[e],0!=(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return em(this.getLatest().__format,e,t)}createDOM(e){var t=this.__format,n=t0(this,t);let r=t1(this,t),i=document.createElement(null===n?r:n),l=i;return null!==n&&(l=document.createElement(r),i.appendChild(l)),n=l,t3(this.__text,n,this),void 0!==(e=e.theme.text)&&t2(r,0,t,n,e),""!==(t=this.__style)&&(i.style.cssText=t),i}updateDOM(e,t,n){let r=this.__text;var i=e.__format,l=this.__format,o=t0(this,i);let s=t0(this,l);var a=t1(this,i);let u=t1(this,l);return(null===o?a:o)!==(null===s?u:s)||(o===s&&a!==u?(null==(i=t.firstChild)&&L(48),t3(r,e=o=document.createElement(u),this),void 0!==(n=n.theme.text)&&t2(u,0,l,e,n),t.replaceChild(o,i)):(a=t,null!==s&&null!==o&&null==(a=t.firstChild)&&L(49),t3(r,a,this),void 0!==(n=n.theme.text)&&i!==l&&t2(u,i,l,a,n),l=this.__style,e.__style!==l&&(t.style.cssText=l)),!1)}static importDOM(){return{"#text":()=>({conversion:t4,priority:0}),b:()=>({conversion:t6,priority:0}),code:()=>({conversion:nr,priority:0}),em:()=>({conversion:nr,priority:0}),i:()=>({conversion:nr,priority:0}),s:()=>({conversion:nr,priority:0}),span:()=>({conversion:t8,priority:0}),strong:()=>({conversion:nr,priority:0}),sub:()=>({conversion:nr,priority:0}),sup:()=>({conversion:nr,priority:0}),u:()=>({conversion:nr,priority:0})}}static importJSON(e){let t=ni(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return{element:e}=super.exportDOM(e),null!==e&&(this.hasFormat("bold")&&(e=t7(e,"b")),this.hasFormat("italic")&&(e=t7(e,"i")),this.hasFormat("strikethrough")&&(e=t7(e,"s")),this.hasFormat("underline")&&(e=t7(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?X[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?Q[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=X[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=et[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){nG();let n=nw();var r=this.getTextContent();let i=this.__key;return("string"==typeof r?(r=r.length,void 0===e&&(e=r),void 0===t&&(t=r)):t=e=0,nh(n))?((r=eT())!==n.anchor.key&&r!==n.focus.key||ex(i),n.setTextNodeRange(this,e,this,t),n):nO(i,e,i,t,"text","text")}spliceText(e,t,n,r){let i=this.getWritable(),l=i.__text,o=n.length,s=e;0>s&&0>(s=o+s)&&(s=0);let a=nw();return r&&nh(a)&&(e+=o,a.setTextNodeRange(i,e,i,e)),t=l.slice(0,s)+n+l.slice(s+t),i.__text=t,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){nG();var t=this.getLatest(),n=t.getTextContent(),r=t.__key,i=eT(),l=new Set(e);e=[];for(var o=n.length,s="",a=0;a<o;a++)""!==s&&l.has(a)&&(e.push(s),s=""),s+=n[a];if(""!==s&&e.push(s),0===(l=e.length))return[];if(e[0]===n)return[t];var u=e[0];n=t.getParentOrThrow(),a=t.getFormat();let d=t.getStyle(),c=t.__detail;o=!1,t.isSegmented()?((s=ni(u)).__format=a,s.__style=d,s.__detail=c,o=!0):(s=t.getWritable()).__text=u,t=nw(),s=[s],u=u.length;for(let n=1;n<l;n++){var f=e[n],g=f.length;(f=ni(f).getWritable()).__format=a,f.__style=d,f.__detail=c;let l=f.__key;if(g=u+g,nh(t)){let e=t.anchor,n=t.focus;e.key===r&&"text"===e.type&&e.offset>u&&e.offset<=g&&(e.key=l,e.offset-=u,t.dirty=!0),n.key===r&&"text"===n.type&&n.offset>u&&n.offset<=g&&(n.key=l,n.offset-=u,t.dirty=!0)}i===r&&ex(l),u=g,s.push(f)}return r=this.getPreviousSibling(),i=this.getNextSibling(),null!==r&&eN(r),null!==i&&eN(i),r=n.getWritable(),i=this.getIndexWithinParent(),o?(r.splice(i,0,s),this.remove()):r.splice(i,1,s),nh(t)&&nb(t,n,i,l-1),s}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||L(50);var n=this.__key;let r=e.__key,i=this.__text,l=i.length;eT()===r&&ex(n);let o=nw();if(nh(o)){let i=o.anchor,s=o.focus;null!==i&&i.key===r&&(n$(i,t,n,e,l),o.dirty=!0),null!==s&&s.key===r&&(n$(s,t,n,e,l),o.dirty=!0)}return n=e.__text,this.setTextContent(t?n+i:i+n),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function t8(e){let t="700"===e.style.fontWeight,n="line-through"===e.style.textDecoration,r="italic"===e.style.fontStyle,i="underline"===e.style.textDecoration,l=e.style.verticalAlign;return{forChild:e=>(nl(e)&&(t&&e.toggleFormat("bold"),n&&e.toggleFormat("strikethrough"),r&&e.toggleFormat("italic"),i&&e.toggleFormat("underline"),"sub"===l&&e.toggleFormat("subscript"),"super"===l&&e.toggleFormat("superscript")),e),node:null}}function t6(e){let t="normal"===e.style.fontWeight;return{forChild:e=>(nl(e)&&!t&&e.toggleFormat("bold"),e),node:null}}let t9=new WeakMap;function t4(e){if(null===e.parentElement)throw Error("Expected parentElement of Text not to be null");for(var t,n=e.textContent||"",r=e.parentNode,i=[e];null!==r&&void 0===(t=t9.get(r))&&!("PRE"===r.nodeName||1===r.nodeType&&r.style.whiteSpace.startsWith("pre"));)i.push(r),r=r.parentNode;for(t=void 0===t?r:t,r=0;r<i.length;r++)t9.set(i[r],t);if(null!==t){for(t=0,n=n.split(/(\r?\n|\t)/),e=[],i=n.length;t<i;t++)"\n"===(r=n[t])||"\r\n"===r?e.push(tQ()):"	"===r?e.push(ns()):""!==r&&e.push(ni(r));return{node:e}}if(""===(n=n.replace(/\r?\n|\t/gm," ").replace("\r","").replace(/\s+/g," ")))return{node:null};if(" "===n[0]){for(i=e,t=!0;null!==i&&null!==(i=nt(i,!1));)if(0<(r=i.textContent||"").length){r.match(/(?:\s|\r?\n|\t)$/)&&(n=n.slice(1)),t=!1;break}t&&(n=n.slice(1))}if(" "===n[n.length-1]){for(i=!0;null!==e&&null!==(e=nt(e,!0));)if(0<(e.textContent||"").replace(/^[\s|\r?\n|\t]+/,"").length){i=!1;break}i&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:ni(n)}}let ne=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function nt(e,t){for(;;){for(var n=void 0;null===(n=t?e.nextSibling:e.previousSibling);)if(null===(e=e.parentElement))return null;if(1===(e=n).nodeType&&(""===(n=e.style.display)&&null===e.nodeName.match(ne)||""!==n&&!n.startsWith("inline")))return null;for(;null!==(n=t?e.firstChild:e.lastChild);)e=n;if(3===e.nodeType)return e;if("BR"===e.nodeName)return null}}let nn={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function nr(e){let t=nn[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(nl(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e),node:null}}function ni(e=""){return eq(new t5(e))}function nl(e){return e instanceof t5}class no extends t5{static getType(){return"tab"}static clone(e){let t=new no(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}static importJSON(e){let t=ns();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){throw Error("TabNode does not support setTextContent")}setDetail(){throw Error("TabNode does not support setDetail")}setMode(){throw Error("TabNode does not support setMode")}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function ns(){return eq(new no)}class na{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode(),r=this.offset;if(e=e.offset,n5(t)){var i=t.getDescendantByIndex(r);t=null!=i?i:t}return n5(n)&&(n=null!=(i=n.getDescendantByIndex(e))?i:n),t===n?r<e:t.isBefore(n)}getNode(){let e=eE(this.key);return null===e&&L(20),e}set(e,t,n){let r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,nY()||(eT()===i&&ex(e),null!==r&&(r._cachedNodes=null,r.dirty=!0))}}function nu(e,t){let n=t.__key,r=e.offset,i="element";if(nl(t))i="text",r>(t=t.getTextContentSize())&&(r=t);else if(!n5(t)){var l=t.getNextSibling();nl(l)?(n=l.__key,r=0,i="text"):(l=t.getParent())&&(n=l.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,i)}function nd(e,t){if(n5(t)){let n=t.getLastDescendant();n5(n)||nl(n)?nu(e,n):nu(e,t)}else nu(e,t)}function nc(e,t,n,r){let i=e.getNode(),l=i.getChildAtIndex(e.offset),o=ni(),s=n9(i)?rr().append(o):o;o.setFormat(n),o.setStyle(r),null===l?i.append(s):l.insertBefore(s),e.is(t)&&t.set(o.__key,0,"text"),e.set(o.__key,0,"text")}function nf(e,t,n,r){e.key=t,e.offset=n,e.type=r}class ng{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!ny(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every(e=>n.has(e))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new ng(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.getNodes(),r=n.length;var i=n[r-1];if(nl(i))i=i.select();else{let e=i.getIndexWithinParent()+1;i=i.getParentOrThrow().select(e,e)}for(i.insertNodes(e,t),e=0;e<r;e++)n[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(null!==e)return e;var t=this._nodes;for(let n of(e=[],t))null!==(t=eE(n))&&e.push(t);return nY()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function nh(e){return e instanceof nm}class n_{constructor(e,t,n){this.gridKey=e,this.anchor=t,this.focus=n,this.dirty=!1,this._cachedNodes=null,t._selection=this,n._selection=this}is(e){return!!np(e)&&this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new n_(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return nv(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.focus.getNode();return e8(n.select(0,n.getChildrenSize())).insertNodes(e,t)}getShape(){var e=eE(this.anchor.key);null===e&&L(21);var t=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var n=eE(this.focus.key);null===n&&L(22);var r=n.getIndexWithinParent();let i=n.getParentOrThrow().getIndexWithinParent();return{fromX:Math.min(n=Math.min(t,r),t=Math.max(t,r)),fromY:Math.min(r=Math.min(e,i),e=Math.max(e,i)),toX:Math.max(n,t),toY:Math.max(r,e)}}getNodes(){function e(e){let{cell:t,startColumn:n,startRow:r}=e;s=Math.min(s,n),a=Math.min(a,r),u=Math.max(u,n+t.__colSpan-1),d=Math.max(d,r+t.__rowSpan-1)}var t=this._cachedNodes;if(null!==t)return t;var n=this.anchor.getNode();t=this.focus.getNode(),n=e2(n,rs);var r=e2(t,rs);rs(n)||L(103),rs(r)||L(104),rc(t=n.getParent())||L(105),ru(t=t.getParent())||L(106);let[i,l,o]=nI(t,n,r),s=Math.min(l.startColumn,o.startColumn),a=Math.min(l.startRow,o.startRow),u=Math.max(l.startColumn+l.cell.__colSpan-1,o.startColumn+o.cell.__colSpan-1),d=Math.max(l.startRow+l.cell.__rowSpan-1,o.startRow+o.cell.__rowSpan-1);n=s,r=a;for(var c=s,f=a;s<n||a<r||u>c||d>f;){if(s<n){var g=f-r;--n;for(var h=0;h<=g;h++)e(i[r+h][n])}if(a<r)for(g=c-n,--r,h=0;h<=g;h++)e(i[r][n+h]);if(u>c)for(g=f-r,c+=1,h=0;h<=g;h++)e(i[r+h][c]);if(d>f)for(g=c-n,f+=1,h=0;h<=g;h++)e(i[f][n+h])}for(t=[t],n=null,r=a;r<=d;r++)for(c=s;c<=u;c++)({cell:f}=i[r][c]),rc(g=f.getParent())||L(107),g!==n&&t.push(g),t.push(f,...function(e){let t=[],n=[e];for(;0<n.length;){let r=n.pop();void 0===r&&L(112),n5(r)&&n.unshift(...r.getChildren()),r!==e&&t.push(r)}return t}(f)),n=g;return nY()||(this._cachedNodes=t),t}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function np(e){return e instanceof n_}class nm{constructor(e,t,n,r){this.anchor=e,this.focus=t,this.dirty=!1,this.format=n,this.style=r,this._cachedNodes=null,e._selection=this,t._selection=this}is(e){return!!nh(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(null!==e)return e;e=this.anchor;var t=this.focus,n=e.isBefore(t),r=n?e:t;n=n?t:e,e=r.getNode(),t=n.getNode();let i=r.offset;return r=n.offset,n5(e)&&(e=null!=(n=e.getDescendantByIndex(i))?n:e),n5(t)&&(null!==(n=t.getDescendantByIndex(r))&&n!==e&&t.getChildAtIndex(r)===n&&(n=n.getPreviousSibling()),t=null!=n?n:t),e=e.is(t)?n5(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),nY()||(this._cachedNodes=e),e}setTextNodeRange(e,t,n,r){nf(this.anchor,e.__key,t,"text"),nf(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,l=r.isBefore(i),[o,s]=nv(this),a="",u=!0;for(let d=0;d<e.length;d++){let c=e[d];if(n5(c)&&!c.isInline())u||(a+="\n"),u=!c.isEmpty();else if(u=!1,nl(c)){let e=c.getTextContent();c===t?c===n?("element"!==r.type||"element"!==i.type||i.offset===r.offset)&&(e=o<s?e.slice(o,s):e.slice(s,o)):e=l?e.slice(o):e.slice(s):c===n&&(e=l?e.slice(0,s):e.slice(0,o)),a+=e}else!n3(c)&&!tZ(c)||c===n&&this.isCollapsed()||(a+=c.getTextContent())}return a}applyDOMRange(e){let t=nU(),n=t.getEditorState()._selection;if(null!==(e=nS(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n))){var[r,i]=e;nf(this.anchor,r.key,r.offset,r.type),nf(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new nm(new na(e.key,e.offset,e.type),new na(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=em(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return 0!=(this.format&X[e])}insertRawText(e){e=e.split(/(\r?\n|\t)/);let t=[],n=e.length;for(let r=0;r<n;r++){let n=e[r];"\n"===n||"\r\n"===n?t.push(tQ()):"	"===n?t.push(ns()):t.push(ni(n))}this.insertNodes(t)}insertText(e){var t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),i=this.format,l=this.style;r&&"element"===t.type?nc(t,n,i,l):r||"element"!==n.type||nc(n,t,i,l);var o=this.getNodes(),s=o.length,a=r?n:t;n=(r?t:n).offset;var u=a.offset;nl(t=o[0])||L(26),r=t.getTextContent().length;var d=t.getParentOrThrow(),c=o[s-1];if(this.isCollapsed()&&n===r&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!d.canInsertTextAfter()&&null===t.getNextSibling())){var f=t.getNextSibling();if(nl(f)&&f.canInsertTextBefore()&&!e_(f)||((f=ni()).setFormat(i),d.canInsertTextAfter()?t.insertAfter(f):d.insertAfter(f)),f.select(0,0),t=f,""!==e){this.insertText(e);return}}else if(this.isCollapsed()&&0===n&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!d.canInsertTextBefore()&&null===t.getPreviousSibling())){if((!nl(f=t.getPreviousSibling())||e_(f))&&((f=ni()).setFormat(i),d.canInsertTextBefore()?t.insertBefore(f):d.insertBefore(f)),f.select(),t=f,""!==e){this.insertText(e);return}}else if(t.isSegmented()&&n!==r)(d=ni(t.getTextContent())).setFormat(i),t.replace(d),t=d;else if(!(this.isCollapsed()||""===e||(f=c.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!n5(f)||f.canInsertTextBefore()&&f.canInsertTextAfter())))){this.insertText(""),nE(this.anchor,this.focus,null),this.insertText(e);return}if(1===s){if(t.isToken())(e=ni(e)).select(),t.replace(e);else{if(o=t.getFormat(),s=t.getStyle(),n===u&&(o!==i||s!==l)){if(""===t.getTextContent())t.setFormat(i),t.setStyle(l);else{(o=ni(e)).setFormat(i),o.setStyle(l),o.select(),0===n?t.insertBefore(o,!1):([s]=t.splitText(n),s.insertAfter(o,!1)),o.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);return}}""===(t=t.spliceText(n,u-n,e,!0)).getTextContent()?t.remove():"text"===this.anchor.type&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=o,this.style=s))}}else{if(i=new Set([...t.getParentKeys(),...c.getParentKeys()]),f=n5(t)?t:t.getParentOrThrow(),l=n5(c)?c:c.getParentOrThrow(),d=c,!f.is(l)&&l.isInline())do d=l,l=l.getParentOrThrow();while(l.isInline())"text"===a.type&&(0!==u||""===c.getTextContent())||"element"===a.type&&c.getIndexWithinParent()<u?nl(c)&&!c.isToken()&&u!==c.getTextContentSize()?(c.isSegmented()&&(a=ni(c.getTextContent()),c.replace(a),c=a),c=c.spliceText(0,u,""),i.add(c.__key)):(a=c.getParentOrThrow()).canBeEmpty()||1!==a.getChildrenSize()?c.remove():a.remove():i.add(c.__key),a=l.getChildren(),u=new Set(o),c=f.is(l),f=f.isInline()&&null===t.getNextSibling()?f:t;for(let e=a.length-1;0<=e;e--){let n=a[e];if(n.is(t)||n5(n)&&n.isParentOf(t))break;n.isAttached()&&(!u.has(n)||n.is(d)?c||f.insertAfter(n,!1):n.remove())}if(!c)for(a=l,u=null;null!==a;)(0===(c=(l=a.getChildren()).length)||l[c-1].is(u))&&(i.delete(a.__key),u=a),a=a.getParent();for(t.isToken()?n===r?t.select():((e=ni(e)).select(),t.replace(e)):""===(t=t.spliceText(n,r-n,e,!0)).getTextContent()?t.remove():t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length),e=1;e<s;e++)t=o[e],i.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),ex(null);else{var t=this.getNodes(),n=[];for(var r of t)nl(r)&&n.push(r);var i=n.length;if(0===i)this.toggleFormat(e),ex(null);else{r=this.anchor;var l=this.focus,o=this.isBackward();t=o?l:r,r=o?r:l;var s=0,a=n[0];if(l="element"===t.type?0:t.offset,"text"===t.type&&l===a.getTextContentSize()&&(s=1,a=n[1],l=0),null!=a){o=a.getFormatFlags(e,null);var u=i-1,d=n[u];if(i="text"===r.type?r.offset:d.getTextContentSize(),a.is(d))l!==i&&(0===l&&i===a.getTextContentSize()?a.setFormat(o):(e=a.splitText(l,i),(e=0===l?e[0]:e[1]).setFormat(o),"text"===t.type&&t.set(e.__key,0,"text"),"text"===r.type&&r.set(e.__key,i-l,"text")),this.format=o);else{0!==l&&([,a]=a.splitText(l),l=0),a.setFormat(o);var c=d.getFormatFlags(e,o);for(0<i&&(i!==d.getTextContentSize()&&([d]=d.splitText(i)),d.setFormat(c)),s+=1;s<u;s++){let t=n[s];if(!t.isToken()){let n=t.getFormatFlags(e,c);t.setFormat(n)}}"text"===t.type&&t.set(a.__key,l,"text"),"text"===r.type&&r.set(d.__key,i,"text"),this.format=o|c}}}}}insertNodes(e,t){if(!this.isCollapsed()){var n=this.isBackward()?this.anchor:this.focus,r=n.getNode().getNextSibling();if(r=r?r.getKey():null,n=(n=n.getNode().getPreviousSibling())?n.getKey():null,this.removeText(),this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===r&&0===this.focus.offset){var i=ni();this.focus.getNode().insertBefore(i)}else this.focus.key===n&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(i=ni(),this.focus.getNode().insertAfter(i));i&&(this.focus.set(i.__key,0,"text"),this.anchor.set(i.__key,0,"text"))}}n=(i=this.anchor).offset;var l=i.getNode();r=l,"element"===i.type&&(r=null===(r=(i=i.getNode()).getChildAtIndex(n-1))?i:r),i=[];var o=l.getNextSiblings(),s=eV(l)?null:l.getTopLevelElementOrThrow();if(nl(l)){if(r=l.getTextContent().length,0===n&&0!==r)r=null!==(r=l.getPreviousSibling())?r:l.getParentOrThrow(),i.push(l);else if(n===r)r=l;else{if(l.isToken())return!1;[r,l]=l.splitText(n),i.push(l)}}l=r,i.push(...o),o=e[0];var a=!1,u=null;for(let t=0;t<e.length;t++){var d=e[t];if(eV(r)||n3(r)||!n5(d)||d.isInline())a&&!n5(d)&&!n3(d)&&eV(r.getParent())&&L(28);else{if(d.is(o)){if(n5(r)&&r.isEmpty()&&r.canReplaceWith(d)){r.replace(d),r=d,a=!0;continue}if(ey(a=d.getFirstDescendant())){for(var c=a.getParentOrThrow();c.isInline();)c=c.getParentOrThrow();if(a=(u=c.getChildren()).length,n5(r)){var f=r.getFirstChild();for(let e=0;e<a;e++){let t=u[e];null===f?r.append(t):f.insertAfter(t),f=t}}else{for(f=a-1;0<=f;f--)r.insertAfter(u[f]);r=r.getParentOrThrow()}if(u=u[a-1],c.remove(),a=!0,c.is(d))continue}}nl(r)&&(null===s&&L(27),r=s)}a=!1,n5(r)&&!r.isInline()?(u=d,n3(d)&&!d.isInline())?r=r.insertAfter(d,!1):n5(d)?(d.canBeEmpty()||!d.isEmpty())&&(n9(r)?(null!==(c=r.getChildAtIndex(n))?c.insertBefore(d):r.append(d),r=d):d.isInline()?(r.append(d),r=d):r=r.insertAfter(d,!1)):(null!==(c=r.getFirstChild())?c.insertBefore(d):r.append(d),r=d):!n5(d)||n5(d)&&d.isInline()||n3(r)&&!r.isInline()?(u=d,nh(this)&&n3(d)&&(n5(r)||nl(r))&&!d.isInline()?(nl(r)?(c=r.getParentOrThrow(),[r]=r.splitText(n),r=r.getIndexWithinParent()+1):(c=r,r=n),[,r]=e1(c,r),r=r.insertBefore(d)):r=r.insertAfter(d,!1)):(d=r.getParentOrThrow(),tZ(r)&&r.remove(),r=d,t--)}if(t&&(nl(l)?l.select():nl(e=r.getPreviousSibling())?e.select():(e=r.getIndexWithinParent(),r.getParentOrThrow().select(e,e))),n5(r)){if(e=nl(u)?u:n5(u)&&u.isInline()?u.getLastDescendant():r.getLastDescendant(),t||(null===e?r.select():nl(e)?""===e.getTextContent()?e.selectPrevious():e.select():e.selectNext()),0!==i.length)for(t=r,e=i.length-1;0<=e;e--)s=(n=i[e]).getParentOrThrow(),!n5(r)||nD(n)||n3(n)&&(!n.isInline()||n.isIsolated())?n5(r)||nD(n)?n5(n)&&!n.canInsertAfter(r)?(n5(l=s.constructor.clone(s))||L(29),l.append(n),r.insertAfter(l)):r.insertAfter(n):(r.insertBefore(n),r=n):(t===r?r.append(n):r.insertBefore(n),r=n),s.isEmpty()&&!s.canBeEmpty()&&s.remove()}else t||(nl(r)?r.select():(t=r.getParentOrThrow(),e=r.getIndexWithinParent()+1,t.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,t=e.offset,n=[];if("text"===e.type){var r=e.getNode(),i=r.getNextSiblings().reverse(),l=r.getParentOrThrow(),o=l.isInline(),s=o?l.getTextContentSize():r.getTextContentSize();0===t?i.push(r):(o&&(n=l.getNextSiblings()),t===s||o&&t===r.getTextContentSize()||([,r]=r.splitText(t),i.push(r)))}else{if(eV(l=e.getNode())){i=rr(),n=l.getChildAtIndex(t),i.select(),null!==n?n.insertBefore(i,!1):l.append(i);return}i=l.getChildren().slice(t).reverse()}if(r=i.length,0===t&&0<r&&l.isInline()){if(n5(i=(n=l.getParentOrThrow()).insertNewAfter(this,!1)))for(n=n.getChildren(),l=0;l<n.length;l++)i.append(n[l])}else if(null===(o=l.insertNewAfter(this,!1)))this.insertLineBreak();else if(n5(o)){if(s=l.getFirstChild(),0===t&&(l.is(e.getNode())||s&&s.is(e.getNode()))&&0<r)l.insertBefore(o);else{if(l=null,t=n.length,e=o.getParentOrThrow(),0<t)for(s=0;s<t;s++)e.append(n[s]);if(0!==r)for(n=0;n<r;n++)t=i[n],null===l?o.append(t):l.insertBefore(t),l=t;o.canBeEmpty()||0!==o.getChildrenSize()?o.selectStart():(o.selectPrevious(),o.remove())}}}insertLineBreak(e){let t=tQ();var n=this.anchor;"element"===n.type&&n9(n=n.getNode())&&this.insertParagraph(),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}getCharacterOffsets(){return nv(this)}extract(){var e=this.getNodes(),t=e.length,n=t-1,r=this.anchor;let i=this.focus;var l=e[0];let o=e[n],[s,a]=nv(this);return 0===t?[]:1===t?nl(l)&&!this.isCollapsed()?(e=s>a?a:s,n=l.splitText(e,s>a?s:a),null!=(e=0===e?n[0]:n[1])?[e]:[]):[l]:(t=r.isBefore(i),nl(l)&&((r=t?s:a)===l.getTextContentSize()?e.shift():0!==r&&([,l]=l.splitText(r),e[0]=l)),nl(o)&&(l=o.getTextContent().length,0===(t=t?a:s)?e.pop():t!==l&&([o]=o.splitText(t),e[n]=o)),e)}modify(e,t,n){var r=this.focus,i=this.anchor,l="move"===e,o=ez(r,t);if(n3(o)&&!o.isIsolated())l&&o.isKeyboardSelectable()?((t=nM()).add(o.__key),ew(t)):nl(e=t?o.getPreviousSibling():o.getNextSibling())?(o=e.__key,t=t?e.getTextContent().length:0,r.set(o,t,"text"),l&&i.set(o,t,"text")):(n=o.getParentOrThrow(),n5(e)?(n=e.__key,o=t?e.getChildrenSize():0):(o=o.getIndexWithinParent(),n=n.__key,t||o++),r.set(n,o,"element"),l&&i.set(n,o,"element"));else if(r=e0((i=nU())._window)){var s=i._blockCursorElement,a=i._rootElement;if(null===a||null===s||!n5(o)||o.isInline()||o.canBeEmpty()||eZ(s,i,a),r.modify(e,t?"backward":"forward",n),0<r.rangeCount&&(o=r.getRangeAt(0),i=n9(i=this.anchor.getNode())?i:eJ(i),this.applyDOMRange(o),this.dirty=!0,!l)){for(s=0,l=this.getNodes(),e=[],n=!1;s<l.length;s++)eH(a=l[s],i)?e.push(a):n=!0;n&&0<e.length&&(t?n5(t=e[0])?t.selectStart():t.getParentOrThrow().selectStart():n5(t=e[e.length-1])?t.selectEnd():t.getParentOrThrow().selectEnd()),(r.anchorNode!==o.startContainer||r.anchorOffset!==o.startOffset)&&(t=this.focus,r=(l=this.anchor).key,o=l.offset,i=l.type,nf(l,t.key,t.offset,t.type),nf(t,r,o,i),this._cachedNodes=null)}}}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){var r=this.anchor,i=this.focus,l=r.getNode();if(!e&&("element"===r.type&&n5(l)&&r.offset===l.getChildrenSize()||"text"===r.type&&r.offset===l.getTextContentSize())){var o=l.getParent();if(n5(o=l.getNextSibling()||(null===o?null:o.getNextSibling()))&&o.isShadowRoot())return}if(n3(o=ez(i,e))&&!o.isIsolated()){o.isKeyboardSelectable()&&n5(l)&&0===l.getChildrenSize()?(l.remove(),(e=nM()).add(o.__key),ew(e)):(o.remove(),nU().dispatchCommand(n,void 0));return}if(!e&&n5(o)&&n5(l)&&l.isEmpty()){l.remove(),o.selectStart();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===r.offset&&("element"===r.type?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o="text"===i.type?i.getNode():null,l="text"===r.type?r.getNode():null,null!==o&&o.isSegmented()){if(r=i.offset,i=o.getTextContentSize(),o.is(l)||e&&r!==i||!e&&0!==r){nN(o,e,r);return}}else if(null!==l&&l.isSegmented()&&(r=r.offset,i=l.getTextContentSize(),l.is(o)||e&&0!==r||!e&&r!==i)){nN(l,e,r);return}if(l=this.anchor,o=this.focus,(r=l.getNode())===(i=o.getNode())&&"text"===l.type&&"text"===o.type){var s=l.offset,a=o.offset;let t=s<a;(i=t?s:a)!==(s=(a=t?a:s)-1)&&(eb(r=r.getTextContent().slice(i,a))||(e?o.offset=s:l.offset=s))}}}this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&(e=this.anchor.getNode()).isEmpty()&&n9(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this)}deleteLine(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function ny(e){return e instanceof ng}function nC(e){let t=e.offset;return"text"===e.type?t:t===(e=e.getNode()).getChildrenSize()?e.getTextContent().length:0}function nv(e){let t=e.anchor;return e=e.focus,"element"===t.type&&"element"===e.type&&t.key===e.key&&t.offset===e.offset?[0,0]:[nC(t),nC(e)]}function nN(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),i=r.length,l=0,o=0;for(let e=0;e<i;e++){let s=r[e],a=e===i-1;if(o=l,l+=s.length,t&&l===n||l>n||a){r.splice(e,1),a&&(o=void 0);break}}""===(t=r.join("").trim())?e.remove():(e.setTextContent(t),e.select(o,o))}function nx(e,t,n,r){var i=t;if(1===e.nodeType){let s=!1;var l=e.childNodes,o=l.length;i===o&&(s=!0,i=o-1);let a=l[i];if(o=!1,a===r._blockCursorElement?(a=l[i+1],o=!0):null!==r._blockCursorElement&&i--,nl(r=eA(a)))i=s?r.getTextContentSize():0;else{if(null===(l=eA(e)))return null;if(n5(l)?((t=n5(e=l.getChildAtIndex(i)))&&(t=e.getParent(),t=null===n||null===t||!t.canBeEmpty()||t!==n.getNode()),t&&(null===(n=s?e.getLastDescendant():e.getFirstDescendant())?(l=e,i=0):l=n5(e=n)?e:e.getParentOrThrow()),nl(e)?(r=e,l=null,i=s?e.getTextContentSize():0):e!==l&&s&&!o&&i++):(i=l.getIndexWithinParent(),i=0===t&&n3(l)&&eA(e)===l?i:i+1,l=l.getParentOrThrow()),n5(l))return new na(l.__key,i,"element")}}else r=eA(e);return nl(r)?new na(r.__key,i,"text"):null}function nT(e,t,n){var r=e.offset,i=e.getNode();0===r?(r=i.getPreviousSibling(),i=i.getParent(),t)?(n||!t)&&null===r&&n5(i)&&i.isInline()&&nl(t=i.getPreviousSibling())&&(e.key=t.__key,e.offset=t.getTextContent().length):n5(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):nl(r)&&(e.key=r.__key,e.offset=r.getTextContent().length):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),t&&n5(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&null===r&&n5(i)&&i.isInline()&&!i.canInsertTextAfter()&&nl(t=i.getNextSibling())&&(e.key=t.__key,e.offset=0))}function nE(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t);let i=e.is(t);nT(e,r,i),nT(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type),(r=nU()).isComposing()&&r._compositionKey!==e.key&&nh(n)&&(r=n.anchor,n=n.focus,nf(e,r.key,r.offset,r.type),nf(t,n.key,n.offset,n.type))}}function nS(e,t,n,r,i,l){return null===e||null===n||!eg(i,e,n)||null===(t=nx(e,t,nh(l)?l.anchor:null,i))||null===(r=nx(n,r,nh(l)?l.focus:null,i))||"element"===t.type&&"element"===r.type&&(e=eA(e),n=eA(n),n3(e)&&n3(n))?null:(nE(t,r,l),[t,r])}function nD(e){return n5(e)&&!e.isInline()}function nO(e,t,n,r,i,l){let o=nH();return(e=new nm(new na(e,t,i),new na(n,r,l),0,"")).dirty=!0,o._selection=e}function nM(){return new ng(new Set)}function nR(e,t,n){let r;var i=n._window;if(null===i)return null;var l=i.event,o=l?l.type:void 0;if(i="selectionchange"===o,l=!er&&(i||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&l&&3===l.detail||"drop"===o||void 0===o),nh(e)&&!l)return e.clone();if(null===t)return null;if(l=t.anchorNode,o=t.focusNode,r=t.anchorOffset,t=t.focusOffset,i&&nh(e)&&!eg(n,l,o))return e.clone();if(null===(n=nS(l,r,o,t,n,e)))return null;let[s,a]=n;return new nm(s,a,nh(e)?e.format:0,nh(e)?e.style:"")}function nw(){return nH()._selection}function nA(){return nU()._editorState._selection}function nb(e,t,n,r=1){var i=e.anchor,l=e.focus,o=i.getNode(),s=l.getNode();if(t.is(o)||t.is(s)){if(o=t.__key,e.isCollapsed())(n<=(t=i.offset)&&0<r||n<t&&0>r)&&(n=Math.max(0,t+r),i.set(o,n,"element"),l.set(o,n,"element"),nk(e));else{let u=e.isBackward();var a=(s=u?l:i).getNode();l=(i=u?i:l).getNode(),t.is(a)&&(n<=(a=s.offset)&&0<r||n<a&&0>r)&&s.set(o,Math.max(0,a+r),"element"),t.is(l)&&(n<=(t=i.offset)&&0<r||n<t&&0>r)&&i.set(o,Math.max(0,t+r),"element")}nk(e)}}function nk(e){var t=e.anchor,n=t.offset;let r=e.focus;var i=r.offset,l=t.getNode(),o=r.getNode();if(e.isCollapsed())n5(l)&&nl(o=(i=n>=(o=l.getChildrenSize()))?l.getChildAtIndex(o-1):l.getChildAtIndex(n))&&(n=0,i&&(n=o.getTextContentSize()),t.set(o.__key,n,"text"),r.set(o.__key,n,"text"));else{if(n5(l)){let r=l.getChildrenSize();nl(n=(e=n>=r)?l.getChildAtIndex(r-1):l.getChildAtIndex(n))&&(l=0,e&&(l=n.getTextContentSize()),t.set(n.__key,l,"text"))}n5(o)&&nl(i=(t=i>=(n=o.getChildrenSize()))?o.getChildAtIndex(n-1):o.getChildAtIndex(i))&&(o=0,t&&(o=i.getTextContentSize()),r.set(i.__key,o,"text"))}}function nP(e,t,n,r,i){let l=null,o=0,s=null;null!==r?(l=r.__key,nl(r)?(o=r.getTextContentSize(),s="text"):n5(r)&&(o=r.getChildrenSize(),s="element")):null!==i&&(l=i.__key,nl(i)?s="text":n5(i)&&(s="element")),null!==l&&null!==s?e.set(l,o,s):(-1===(o=t.getIndexWithinParent())&&(o=n.getChildrenSize()),e.set(n.__key,o,"element"))}function n$(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&--e.offset}function nI(e,t,n){let r=[],i=null,l=null;e=e.getChildren();for(let u=0;u<e.length;u++){var o=e[u];rc(o)||L(108);var s=o.getChildren();for(let e of(o=0,s)){for(rs(e)||L(109);void 0!==r[u]&&void 0!==r[u][o];)o++;var a=o;let d={cell:e,startColumn:a,startRow:s=u},c=e.__rowSpan,f=e.__colSpan;for(let e=0;e<c;e++){void 0===r[s+e]&&(r[s+e]=[]);for(let t=0;t<f;t++)r[s+e][a+t]=d}t.is(e)&&(i=d),n.is(e)&&(l=d),o+=e.__colSpan}}return null===i&&L(110),null===l&&L(111),[r,i,l]}let nL=null,nF=null,nB=!1,nz=!1,nW=0,nK={characterData:!0,childList:!0,subtree:!0};function nY(){return nB||null!==nL&&nL._readOnly}function nG(){nB&&L(13)}function nH(){return null===nL&&L(15),nL}function nU(){return null===nF&&L(16),nF}function nJ(e,t,n){var r=t.__type;let i=e._nodes.get(r);for(void 0===i&&L(30),void 0===(e=n.get(r))&&(e=Array.from(i.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function nV(e,t){var n=t.get(e.type);if(void 0===n&&L(17),n=n.klass,e.type!==n.getType()&&L(18),n=n.importJSON(e),e=e.children,n5(n)&&Array.isArray(e))for(let r=0;r<e.length;r++){let i=nV(e[r],t);n.append(i)}return n}function nj(e,t){let n=nL,r=nB,i=nF;nL=e,nB=!0,nF=null;try{return t()}finally{nL=n,nB=r,nF=i}}function nq(e){let t=e._pendingEditorState,r=e._rootElement,i=e._headless||null===r;if(null!==t){var l=e._editorState,o=l._selection,s=t._selection,a=0!==e._dirtyType,u=nL,d=nB,c=nF,f=e._updating,g=e._observer,h=null;if(e._pendingEditorState=null,e._editorState=t,!i&&a&&null!==g){nF=e,nL=t,nB=!1,e._updating=!0;try{let n=e._dirtyType,r=e._dirtyElements,i=e._dirtyLeaves;g.disconnect(),e4=te=e9="",ti=2===n,ts=null,tn=e,tt=e._config,tr=e._nodes,to=tn._listeners.mutation,ta=r,tu=i,td=l._nodeMap,tc=t._nodeMap,tl=t._readOnly,tf=new Map(e._keyToDOMMap);let o=new Map;tg=o,function e(t,n){var r=td.get(t),i=tc.get(t);void 0!==r&&void 0!==i||L(61);var l=ti||tu.has(t)||ta.has(t);let o=eY(tn,t);if(r===i&&!l)return n5(r)?(void 0!==(i=o.__lexicalTextContent)&&(e9+=i,te+=i),void 0!==(i=o.__lexicalDirTextContent)&&(e4+=i)):(i=r.getTextContent(),nl(r)&&!r.isDirectionless()&&(e4+=i),te+=i,e9+=i),o;if(r!==i&&l&&eF(tg,tr,to,i,"updated"),i.updateDOM(r,o,tt))return i=tC(t,null,null),null===n&&L(62),n.replaceChild(i,o),th(t,null),i;if(n5(r)&&n5(i)){if((t=i.__indent)!==r.__indent&&tm(o,t),(t=i.__format)!==r.__format&&ty(o,t),l){t=i,l=e4,e4="",n=e9;var s=r.__size,a=t.__size;if(e9="",1===s&&1===a){var u=r.__first,d=t.__first;if(u===d)e(u,o);else{var c=tO(u);d=tC(d,null,null),o.replaceChild(d,c),th(u,null)}}else{d=tE(r,td);var f=tE(t,tc);if(0===s)0!==a&&tv(f,t,0,a-1,o,null);else if(0===a)0!==s&&(t_(d,0,s-1,(u=null==o.__lexicalLineBreak)?null:o),u&&(o.textContent=""));else{var g=d;d=f,f=s-1,s=a-1;let n=o.firstChild,r=0;for(a=0;r<=f&&a<=s;){var h=g[r];let t=d[a];if(h===t)n=tD(e(t,o)),r++,a++;else{void 0===u&&(u=new Set(g)),void 0===c&&(c=new Set(d));let i=c.has(h),l=u.has(t);i?(l?((h=eY(tn,t))===n?n=tD(e(t,o)):(null!=n?o.insertBefore(h,n):o.appendChild(h),e(t,o)),r++):tC(t,o,n),a++):(n=tD(tO(h)),th(h,o),r++)}}u=r>f,c=a>s,u&&!c?(u=void 0===(u=d[s+1])?null:tn.getElementByKey(u),tv(d,t,a,s,o,u)):c&&!u&&t_(g,r,f,o)}}eK(t)&&(e9+="\n\n"),o.__lexicalTextContent=e9,e9=n+e9,tT(t,o),e4=l,n9(i)||i.isInline()||tx(r,i,o)}eK(i)&&(e9+="\n\n",te+="\n\n")}else r=i.getTextContent(),n3(i)?null!==(l=i.decorate(tn,tt))&&tS(t,l):nl(i)&&!i.isDirectionless()&&(e4+=r),e9+=r,te+=r;return!tl&&n9(i)&&i.__cachedText!==te&&((i=i.getWritable()).__cachedText=te),o}("root",null),tg=tf=tt=tc=td=tu=ta=tr=tn=void 0,h=o}catch(n){if(n instanceof Error&&e._onError(n),nz)throw n;ri(e,null,r,t),eu(e),e._dirtyType=2,nz=!0,nq(e),nz=!1;return}finally{g.observe(r,nK),e._updating=f,nL=u,nB=d,nF=c}}t._readOnly||(t._readOnly=!0);var _=e._dirtyLeaves,p=e._dirtyElements,m=e._normalizedNodes,y=e._updateTags,C=e._deferred;a&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set);var v,N=e._decorators,x=e._pendingDecorators||N,T=t._nodeMap;for(v in x)T.has(v)||(x===N&&(x=eO(e)),delete x[v]);var E=i?null:e0(e._window);if(e._editable&&null!==E&&(a||null===s||s.dirty)){nF=e,nL=t;try{if(null!==g&&g.disconnect(),a||null===s||s.dirty){let t=e._blockCursorElement;null!==t&&eZ(t,e,r);e:{let t=E.anchorNode,n=E.focusNode,i=E.anchorOffset,l=E.focusOffset,a=document.activeElement;if(!(y.has("collaboration")&&a!==r||null!==a&&ef(a))){if(nh(s)){var S=s.anchor,D=s.focus,O=S.key,M=D.key,R=eY(e,O),w=eY(e,M),A=S.offset,b=D.offset,k=s.format,P=s.style,$=s.isCollapsed(),I=R,F=w,B=!1;if("text"===S.type){I=ep(R);let e=S.getNode();B=e.getFormat()!==k||e.getStyle()!==P}else nh(o)&&"text"===o.anchor.type&&(B=!0);if("text"===D.type&&(F=ep(w)),null!==I&&null!==F){if($&&(null===o||B||nh(o)&&(o.format!==k||o.style!==P))){var z=performance.now();tB=[k,P,A,O,z]}if(i===A&&l===b&&t===I&&n===F&&("Range"!==E.type||!$)&&(null!==a&&r.contains(a)||r.focus({preventScroll:!0}),"element"!==S.type))break e;try{E.setBaseAndExtent(I,A,F,b)}catch(e){}if(!y.has("skip-scroll-into-view")&&s.isCollapsed()&&null!==r&&r===document.activeElement){let t=s instanceof nm&&"element"===s.anchor.type?I.childNodes[A]||null:0<E.rangeCount?E.getRangeAt(0):null;if(null!==t){let n;if(t instanceof Text){let e=document.createRange();e.selectNode(t),n=e.getBoundingClientRect()}else n=t.getBoundingClientRect();let i=r.ownerDocument,l=i.defaultView;if(null!==l)for(var W,K,{top:Y,bottom:G}=n,H=r;null!==H;){let t=H===i.body;if(t)W=0,K=eU(e).innerHeight;else{let e=H.getBoundingClientRect();W=e.top,K=e.bottom}let n=0;if(Y<W?n=-(W-Y):G>K&&(n=G-K),0!==n){if(t)l.scrollBy(0,n);else{let e=H.scrollTop;H.scrollTop+=n;let t=H.scrollTop-e;Y-=t,G-=t}}if(t)break;H=eG(H)}}}t$=!0}}else null!==o&&eg(e,t,n)&&E.removeAllRanges()}}}e:{let t=e._blockCursorElement;if(nh(s)&&s.isCollapsed()&&"element"===s.anchor.type&&r.contains(document.activeElement)){let n=s.anchor,i=n.getNode(),l=n.offset,o=i.getChildrenSize(),a=!1,u=null;if(l===o){let e=i.getChildAtIndex(l-1);eQ(e)&&(a=!0)}else{let t=i.getChildAtIndex(l);if(eQ(t)){let n=t.getPreviousSibling();(null===n||eQ(n))&&(a=!0,u=e.getElementByKey(t.__key))}}if(a){let n=e.getElementByKey(i.__key);if(null===t){let n=e._config.theme,r=document.createElement("div");r.contentEditable="false",r.setAttribute("data-lexical-cursor","true");let i=n.blockCursor;if(void 0!==i){if("string"==typeof i){let e=i.split(" ");i=n.blockCursor=e}void 0!==i&&r.classList.add(...i)}e._blockCursorElement=t=r}r.style.caretColor="transparent",null===u?n.appendChild(t):n.insertBefore(t,u);break e}}null!==t&&eZ(t,e,r)}null!==g&&g.observe(r,nK)}finally{nF=c,nL=u}}if(null!==h){var U=h;let t=Array.from(e._listeners.mutation),n=t.length;for(let e=0;e<n;e++){let[n,r]=t[e],i=U.get(r);void 0!==i&&n(i,{dirtyLeaves:_,updateTags:y})}}nh(s)||null===s||null!==o&&o.is(s)||e.dispatchCommand(n,void 0);var J=e._pendingDecorators;null!==J&&(e._decorators=J,e._pendingDecorators=null,nX("decorator",e,!0,J));var V=eM(l),j=eM(t);if(V!==j&&nX("textcontent",e,!0,j),nX("update",e,!0,{dirtyElements:p,dirtyLeaves:_,editorState:t,normalizedNodes:m,prevEditorState:l,tags:y}),e._deferred=[],0!==C.length){let t=e._updating;e._updating=!0;try{for(let e=0;e<C.length;e++)C[e]()}finally{e._updating=t}}var q=e._updates;if(0!==q.length){let t=q.shift();if(t){let[n,r]=t;n0(e,n,r)}}}}function nX(e,t,n,...r){let i=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function nQ(e,t,n){if(!1===e._updating||nF!==e){let r=!1;return e.update(()=>{r=nQ(e,t,n)}),r}let r=ek(e);for(let l=4;0<=l;l--)for(let o=0;o<r.length;o++){var i=r[o]._commands.get(t);if(void 0!==i&&void 0!==(i=i[l])){let t=(i=Array.from(i)).length;for(let r=0;r<t;r++)if(!0===i[r](n,e))return!0}}return!1}function nZ(e,t){let n=e._updates;for(t=t||!1;0!==n.length;){var r=n.shift();if(r){let[n,i]=r,l;void 0!==i&&(r=i.onUpdate,l=i.tag,i.skipTransforms&&(t=!0),r&&e._deferred.push(r),l&&e._updateTags.add(l)),n()}}return t}function n0(e,t,n){let r=e._updateTags;var i,l=i=!1;if(void 0!==n){var o=n.onUpdate;null!=(i=n.tag)&&r.add(i),i=n.skipTransforms||!1,l=n.discrete||!1}o&&e._deferred.push(o),n=e._editorState;let s=!1;(null===(o=e._pendingEditorState)||o._readOnly)&&(o=e._pendingEditorState=new re(new Map((o||n)._nodeMap)),s=!0),o._flushSync=l,l=nL;let a=nB,u=nF,d=e._updating;nL=o,nB=!1,e._updating=!0,nF=e;try{let r,l;s&&(e._headless?null!=n._selection&&(o._selection=n._selection.clone()):o._selection=(r=e.getEditorState()._selection,l=e0(e._window),ny(r)||np(r)?r.clone():nR(r,l,e)));let a=e._compositionKey;t(),i=nZ(e,i),function(e,t){if(t=t.getEditorState()._selection,nh(e=e._selection)){var n=e.anchor;let r=e.focus,i;"text"===n.type&&(i=n.getNode()).selectionTransform(t,e),"text"===r.type&&i!==(n=r.getNode())&&n.selectionTransform(t,e)}}(o,e),0!==e._dirtyType&&(i?function(e,t){for(let n of(t=t._dirtyLeaves,e=e._nodeMap,t))nl(t=e.get(n))&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&e5(t)}(o,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;let i=eT(),l=new Map;var o=n;let s=o.size;for(var a=r,u=a.size;0<s||0<u;){if(0<s){for(let r of(t._dirtyLeaves=new Set,o))nl(o=e.get(r))&&o.isAttached()&&o.isSimpleText()&&!o.isUnmergeable()&&e5(o),void 0!==o&&void 0!==o&&o.__key!==i&&o.isAttached()&&nJ(t,o,l),n.add(r);if(0<(s=(o=t._dirtyLeaves).size)){nW++;continue}}for(let n of(t._dirtyLeaves=new Set,t._dirtyElements=new Map,a))a=n[0],u=n[1],("root"===a||u)&&(void 0!==(o=e.get(a))&&void 0!==o&&o.__key!==i&&o.isAttached()&&nJ(t,o,l),r.set(a,u));s=(o=t._dirtyLeaves).size,u=(a=t._dirtyElements).size,nW++}t._dirtyLeaves=n,t._dirtyElements=r}(o,e),nZ(e),function(e,t,n,r){e=e._nodeMap,t=t._nodeMap;let i=[];for(let[n]of r){let l=t.get(n);void 0===l||l.isAttached()||(n5(l)&&function e(t,n,r,i,l,o){for(t=t.getFirstChild();null!==t;){let s=t.__key;t.__parent===n&&(n5(t)&&e(t,s,r,i,l,o),r.has(s)||o.delete(s),l.push(s)),t=t.getNextSibling()}}(l,n,e,t,i,r),e.has(n)||r.delete(n),i.push(n))}for(let e of i)t.delete(e);for(let i of n)void 0===(r=t.get(i))||r.isAttached()||(e.has(i)||n.delete(i),t.delete(i))}(n,o,e._dirtyLeaves,e._dirtyElements)),a!==e._compositionKey&&(o._flushSync=!0);let u=o._selection;if(nh(u)){let e=o._nodeMap,t=u.focus.key;void 0!==e.get(u.anchor.key)&&void 0!==e.get(t)||L(19)}else ny(u)&&0===u._nodes.size&&(o._selection=null)}catch(t){t instanceof Error&&e._onError(t),e._pendingEditorState=n,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),nq(e);return}finally{nL=l,nB=a,nF=u,e._updating=d,nW=0}0!==e._dirtyType||function(e,t){if(t=t.getEditorState()._selection,null!==(e=e._selection)){if(e.dirty||!e.is(t))return!0}else if(null!==t)return!0;return!1}(o,e)?o._flushSync?(o._flushSync=!1,nq(e)):s&&ec(()=>{nq(e)}):(o._flushSync=!1,s&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function n1(e,t,n){e._updating?e._updates.push([t,n]):n0(e,t,n)}class n2 extends tj{constructor(e){super(e)}decorate(){L(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function n3(e){return e instanceof n2}class n7 extends tj{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){return ee[this.getFormat()]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=nU()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(nl(t)&&e.push(t),n5(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(n5(e)){let t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(n5(e)){let t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;return e>=n?n5(e=t[n-1])&&e.getLastDescendant()||e||null:n5(e=t[e])&&e.getFirstDescendant()||e||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:eE(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&L(45),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:eE(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&L(96),e}getChildAtIndex(e){let t;var n=this.getChildrenSize();if(e<n/2){for(n=0,t=this.getFirstChild();null!==t&&n<=e;){if(n===e)return t;t=t.getNextSibling(),n++}return null}for(t=this.getLastChild(),--n;null!==t&&n>=e;){if(n===e)return t;t=t.getPreviousSibling(),n--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContent(),n5(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}getTextContentSize(){let e=0,t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContentSize(),n5(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return""!==e&&(e=Z[e],0!=(this.getFormat()&e))}select(e,t){nG();let n=nw(),r=e,i=t;var l=this.getChildrenSize();if(!this.canBeEmpty()){if(0===e&&0===t){if(nl(e=this.getFirstChild())||n5(e))return e.select(0,0)}else if(!(void 0!==e&&e!==l||void 0!==t&&t!==l)&&(nl(e=this.getLastChild())||n5(e)))return e.select()}return(void 0===r&&(r=l),void 0===i&&(i=l),l=this.__key,nh(n))?(n.anchor.set(l,r,"element"),n.focus.set(l,i,"element"),n.dirty=!0,n):nO(l,r,l,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return n5(e)||nl(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return n5(e)||nl(e)?e.select():null!==e?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?Z[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){let r=n.length,i=this.getChildrenSize(),l=this.getWritable(),o=l.__key;var s=[],a=[];let u=this.getChildAtIndex(e+t),d=null,c=i-t+r;if(0!==e){if(e===i)d=this.getLastChild();else{var f=this.getChildAtIndex(e);null!==f&&(d=f.getPreviousSibling())}}if(0<t){var g=null===d?this.getFirstChild():d.getNextSibling();for(f=0;f<t;f++){null===g&&L(100);var h=g.getNextSibling(),_=g.__key;ev(g=g.getWritable()),a.push(_),g=h}}for(h=0,f=d;h<r;h++){_=n[h],null!==f&&_.is(f)&&(d=f=f.getPreviousSibling()),(g=_.getWritable()).__parent===o&&c--,ev(g);let e=_.__key;null===f?(l.__first=e,g.__prev=null):((f=f.getWritable()).__next=e,g.__prev=f.__key),_.__key===o&&L(76),g.__parent=o,s.push(e),f=_}if(e+t===i?null!==f&&(f.getWritable().__next=null,l.__last=f.__key):null!==u&&(e=u.getWritable(),null!==f?(t=f.getWritable(),e.__prev=f.__key,t.__next=u.__key):e.__prev=null),l.__size=c,a.length&&nh(e=nw())){a=new Set(a),s=new Set(s);let{anchor:t,focus:n}=e;n8(t,a,s)&&nP(t,t.getNode(),this,d,u),n8(n,a,s)&&nP(n,n.getNode(),this,d,u),0!==c||this.canBeEmpty()||eV(this)||this.remove()}return l}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function n5(e){return e instanceof n7}function n8(e,t,n){for(e=e.getNode();e;){let r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}class n6 extends n7{static getType(){return"root"}static clone(){return new n6}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){L(51)}getTextContent(){let e=this.__cachedText;return(nY()||0===nU()._dirtyType)&&null!==e?e:super.getTextContent()}remove(){L(52)}replace(){L(53)}insertBefore(){L(54)}insertAfter(){L(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let n=e[t];n5(n)||n3(n)||L(56)}return super.append(...e)}static importJSON(e){let t=eR();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function n9(e){return e instanceof n6}function n4(){return new re(new Map([["root",new n6]]))}class re{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return nj(this,e)}clone(e){return(e=new re(this._nodeMap,void 0===e?this._selection:e))._readOnly=!0,e}toJSON(){return nj(this,()=>({root:function e(t){let n=t.exportJSON();n.type!==t.constructor.getType()&&L(58);let r=n.children;if(n5(t)){Array.isArray(r)||L(59),t=t.getChildren();for(let n=0;n<t.length;n++){let i=e(t[n]);r.push(i)}}return n}(eR())}))}}class rt extends n7{static getType(){return"paragraph"}static clone(e){return new rt(e.__key)}createDOM(e){let t=document.createElement("p");return void 0!==(e=eL(e.theme,"paragraph"))&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:rn,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),0<(t=this.getIndent())&&(e.style.textIndent=`${20*t}px`)}return{element:e}}static importJSON(e){let t=rr();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=rr();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(0===e.length||nl(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function rn(e){let t=rr();return e.style&&(t.setFormat(e.style.textAlign),0<(e=parseInt(e.style.textIndent,10)/20)&&t.setIndent(e)),{node:t}}function rr(){return eq(new rt)}function ri(e,t,n,r){let i=e._keyToDOMMap;i.clear(),e._editorState=n4(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,null!==(r=e._observer)&&(r.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}class rl{constructor(e,t,n,r,i,l,o){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=eP(),this._onError=i,this._htmlConversions=l,this._editable=o,this._headless=null!==t&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&L(35);let r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);let i=r.get(e);void 0===i&&L(36);let l=i[n];return l.add(t),()=>{l.delete(t),i.every(e=>0===e.size)&&r.delete(e)}}registerMutationListener(e,t){void 0===this._nodes.get(e.getType())&&L(37);let n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransformToKlass(e,t){return e=e.getType(),void 0===(e=this._nodes.get(e))&&L(37),e.transforms.add(t),e}registerNodeTransform(e,t){var n,r=this.registerNodeTransformToKlass(e,t);let i=[r];return null!=(r=r.replaceWithKlass)&&(r=this.registerNodeTransformToKlass(r,t),i.push(r)),n=e.getType(),n1(this,()=>{var e=nH();if(!e.isEmpty()){if("root"===n)eR().markDirty();else for(let[,t]of e=e._nodeMap)t.markDirty()}},null===this._pendingEditorState?{tag:"history-merge"}:void 0),()=>{i.forEach(e=>e.transforms.delete(t))}}hasNodes(e){for(let t=0;t<e.length;t++){let n=e[t].getType();if(!this._nodes.has(n))return!1}return!0}dispatchCommand(e,t){return nQ(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let i=eL(this._config.theme,"root");var n=this._pendingEditorState||this._editorState;if(this._rootElement=e,ri(this,t,e,n),null!==t){if(!this._config.disableEvents){if(0!==tP&&0==--tP&&t.ownerDocument.removeEventListener("selectionchange",tJ),null!=(n=t.__lexicalEditor)){if(null!==n._parentEditor){var r=ek(n);r=r[r.length-1]._key,tU.get(r)===n&&tU.delete(r)}else tU.delete(n._key);t.__lexicalEditor=null}for(r=0,n=tH(t);r<n.length;r++)n[r]();t.__lexicalEventHandles=[]}null!=i&&t.classList.remove(...i)}null!==e?(n=(n=e.ownerDocument)&&n.defaultView||null,(r=e.style).userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=n,this._dirtyType=2,eu(this),this._updateTags.add("history-merge"),nq(this),this._config.disableEvents||function(e,t){0===tP&&e.ownerDocument.addEventListener("selectionchange",tJ),tP++,e.__lexicalEditor=t;let n=tH(e);for(let r=0;r<tR.length;r++){let[i,l]=tR[r],o="function"==typeof l?e=>{!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()&&l(e,t))}:e=>{if(!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()))switch(i){case"cut":return nQ(t,k,e);case"copy":return nQ(t,b,e);case"paste":return nQ(t,a,e);case"dragstart":return nQ(t,R,e);case"dragover":return nQ(t,w,e);case"dragend":return nQ(t,A,e);case"focus":return nQ(t,P,e);case"blur":return nQ(t,$,e);case"drop":return nQ(t,M,e)}};e.addEventListener(i,o),n.push(()=>{e.removeEventListener(i,o)})}}(e,this),null!=i&&e.classList.add(...i)):this._window=null,nX("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&L(38),ea(this);let n=this._pendingEditorState,r=this._updateTags;t=void 0!==t?t.tag:null,null===n||n.isEmpty()||(null!=t&&r.add(t),nq(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=t&&r.add(t),nq(this)}parseEditorState(e,t){e="string"==typeof e?JSON.parse(e):e;let n=n4(),r=nL,i=nB,l=nF,o=this._dirtyElements,s=this._dirtyLeaves,a=this._cloneNotNeeded,u=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,nL=n,nB=!1,nF=this;try{nV(e.root,this._nodes),t&&t(),n._readOnly=!0}catch(e){e instanceof Error&&this._onError(e)}finally{this._dirtyElements=o,this._dirtyLeaves=s,this._cloneNotNeeded=a,this._dirtyType=u,nL=r,nB=i,nF=l}return n}update(e,t){n1(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),n1(this,()=>{let e=nw(),n=eR();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())},{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;null!==e&&e.blur(),null!==(e=e0(this._window))&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,nX("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class ro extends n7{constructor(e,t){super(t),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function rs(e){return e instanceof ro}class ra extends n7{}function ru(e){return e instanceof ra}class rd extends n7{}function rc(e){return e instanceof rd}t.$addUpdateTag=function(e){nG(),nU()._updateTags.add(e)},t.$applyNodeReplacement=eq,t.$copyNode=ej,t.$createLineBreakNode=tQ,t.$createNodeSelection=nM,t.$createParagraphNode=rr,t.$createRangeSelection=function(){return new nm(new na("root",0,"element"),new na("root",0,"element"),0,"")},t.$createTabNode=ns,t.$createTextNode=ni,t.$getAdjacentNode=ez,t.$getNearestNodeFromDOMNode=eD,t.$getNearestRootOrShadowRoot=eJ,t.$getNodeByKey=eE,t.$getPreviousSelection=nA,t.$getRoot=eR,t.$getSelection=nw,t.$getTextContent=function(){let e=nw();return null===e?"":e.getTextContent()},t.$hasAncestor=eH,t.$hasUpdateTag=function(e){return nU()._updateTags.has(e)},t.$insertNodes=function(e,t){let n=nw();return null===n&&(n=eR().selectEnd()),n.insertNodes(e,t)},t.$isBlockElementNode=nD,t.$isDecoratorNode=n3,t.$isElementNode=n5,t.$isInlineElementOrDecoratorNode=function(e){return n5(e)&&e.isInline()||n3(e)&&e.isInline()},t.$isLeafNode=ey,t.$isLineBreakNode=tZ,t.$isNodeSelection=ny,t.$isParagraphNode=function(e){return e instanceof rt},t.$isRangeSelection=nh,t.$isRootNode=n9,t.$isRootOrShadowRoot=eV,t.$isTabNode=function(e){return e instanceof no},t.$isTextNode=nl,t.$nodesOfType=function(e){var t=nH();let n=t._readOnly,r=e.getType();t=t._nodeMap;let i=[];for(let[,l]of t)l instanceof e&&l.__type===r&&(n||l.isAttached())&&i.push(l);return i},t.$normalizeSelection__EXPERIMENTAL=e8,t.$parseSerializedNode=function(e){return nV(e,nU()._nodes)},t.$setCompositionKey=ex,t.$setSelection=ew,t.$splitNode=e1,t.BLUR_COMMAND=$,t.CAN_REDO_COMMAND={},t.CAN_UNDO_COMMAND={},t.CLEAR_EDITOR_COMMAND={},t.CLEAR_HISTORY_COMMAND={},t.CLICK_COMMAND=r,t.COMMAND_PRIORITY_CRITICAL=4,t.COMMAND_PRIORITY_EDITOR=0,t.COMMAND_PRIORITY_HIGH=3,t.COMMAND_PRIORITY_LOW=1,t.COMMAND_PRIORITY_NORMAL=2,t.CONTROLLED_TEXT_INSERTION_COMMAND=s,t.COPY_COMMAND=b,t.CUT_COMMAND=k,t.DELETE_CHARACTER_COMMAND=i,t.DELETE_LINE_COMMAND=c,t.DELETE_WORD_COMMAND=d,t.DEPRECATED_$computeGridMap=nI,t.DEPRECATED_$createGridSelection=function(){return new n_("root",new na("root",0,"element"),new na("root",0,"element"))},t.DEPRECATED_$getNodeTriplet=function(e){e instanceof ro||(e=e instanceof tj?e2(e,rs):e2(e.getNode(),rs),rs(e)||L(114));let t=e.getParent();rc(t)||L(115);let n=t.getParent();return ru(n)||L(116),[e,t,n]},t.DEPRECATED_$isGridCellNode=rs,t.DEPRECATED_$isGridNode=ru,t.DEPRECATED_$isGridRowNode=rc,t.DEPRECATED_$isGridSelection=np,t.DEPRECATED_GridCellNode=ro,t.DEPRECATED_GridNode=ra,t.DEPRECATED_GridRowNode=rd,t.DRAGEND_COMMAND=A,t.DRAGOVER_COMMAND=w,t.DRAGSTART_COMMAND=R,t.DROP_COMMAND=M,t.DecoratorNode=n2,t.ElementNode=n7,t.FOCUS_COMMAND=P,t.FORMAT_ELEMENT_COMMAND={},t.FORMAT_TEXT_COMMAND=f,t.INDENT_CONTENT_COMMAND={},t.INSERT_LINE_BREAK_COMMAND=l,t.INSERT_PARAGRAPH_COMMAND=o,t.INSERT_TAB_COMMAND={},t.KEY_ARROW_DOWN_COMMAND=N,t.KEY_ARROW_LEFT_COMMAND=y,t.KEY_ARROW_RIGHT_COMMAND=p,t.KEY_ARROW_UP_COMMAND=v,t.KEY_BACKSPACE_COMMAND=E,t.KEY_DELETE_COMMAND=D,t.KEY_DOWN_COMMAND=_,t.KEY_ENTER_COMMAND=x,t.KEY_ESCAPE_COMMAND=S,t.KEY_MODIFIER_COMMAND=I,t.KEY_SPACE_COMMAND=T,t.KEY_TAB_COMMAND=O,t.LineBreakNode=tq,t.MOVE_TO_END=m,t.MOVE_TO_START=C,t.OUTDENT_CONTENT_COMMAND={},t.PASTE_COMMAND=a,t.ParagraphNode=rt,t.REDO_COMMAND=h,t.REMOVE_TEXT_COMMAND=u,t.RootNode=n6,t.SELECTION_CHANGE_COMMAND=n,t.TabNode=no,t.TextNode=t5,t.UNDO_COMMAND=g,t.createCommand=function(){return{}},t.createEditor=function(e){let t,n;var r,i=e||{},l=nF,o=i.theme||{};let s=void 0===e?l:i.parentEditor||null,a=i.disableEvents||!1,u=n4(),d=i.namespace||(null!==s?s._config.namespace:eP()),c=i.editorState,f=[n6,t5,tq,no,rt,...i.nodes||[]],g=i.onError;if(i=void 0===i.editable||i.editable,void 0===e&&null!==l)e=l._nodes;else for(e=new Map,l=0;l<f.length;l++){let t=f[l],n=null;var h=null;"function"!=typeof t&&(t=(h=t).replace,n=h.with,h=h.withKlass?h.withKlass:null);let r=t.getType(),i=t.transform(),o=new Set;null!==i&&o.add(i),e.set(r,{klass:t,replace:n,replaceWithKlass:h,transforms:o})}return o=new rl(u,s,e,{disableEvents:a,namespace:d,theme:o},g||console.error,(r=e,t=new Map,n=new Set,r.forEach(e=>{if(null!=(e=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null)&&!n.has(e)){n.add(e);var r=e();null!==r&&Object.keys(r).forEach(e=>{let n=t.get(e);void 0===n&&(n=[],t.set(e,n)),n.push(r[e])})}}),t),i),void 0!==c&&(o._pendingEditorState=c,o._dirtyType=2),o},t.getNearestEditorFromDOMNode=eh,t.isSelectionCapturedInDecoratorInput=ef,t.isSelectionWithinEditor=eg}}]);

//# debugId=e40aa00e-1512-5971-a35c-75922ad8cfa5

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/99a1b7e6c63abdac8ed0253e83516d4c2242d669/vendor-39dc4b296b8eb34b.min.js.map