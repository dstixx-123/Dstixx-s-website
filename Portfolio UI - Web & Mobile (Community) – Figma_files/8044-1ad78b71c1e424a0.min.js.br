"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="45fa3c13-67a9-5bb1-9394-33e5fd49f9ef")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8044],{821150:(e,t,n)=>{n.d(t,{$9:()=>s,BZ:()=>l,Gv:()=>p,Lq:()=>I,PE:()=>r,Pj:()=>g,SI:()=>m,_Z:()=>a,hj:()=>v,ig:()=>d,mj:()=>u,ow:()=>i,s1:()=>y,uO:()=>o,vL:()=>c});let l="styles_properties_form--styleNameAndDescriptionContainer--L2pn-",i="styles_properties_form--styleDescriptionLabel--ErQ6b",r="styles_properties_form--styleDescriptionContainer--NtXrJ",a="styles_properties_form--textInput--rWj8- raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",o="styles_properties_form--expandingTextInput--E7usn",s="styles_properties_form--textPreviewContainer---jjb4 styles_properties_form--previewContainer--SH1Yk",d="styles_properties_form--gridAndEffectPreviewContainer--9q2FM styles_properties_form--previewContainer--SH1Yk",u="styles_properties_form--loadedFillPreviewContainer--36WiC styles_properties_form--fillPreviewSize--GiUdz",c="styles_properties_form--loadingFillPreviewContainer--WPdS6 styles_properties_form--fillPreviewSize--GiUdz",p="styles_properties_form--stylePreview--tJF78",g="styles_properties_form--textStylePreview--Jp6WQ",m="styles_properties_form--textStylePreviewInverted--GeC3b",v="styles_properties_form--fillStylePreview--xOVAg styles_properties_form--fillPreviewSize--GiUdz",I="styles_properties_form--loading--0A0hy",y="styles_properties_form--isLoaded--2czdf"},708071:(e,t,n)=>{n.d(t,{H:()=>l});let l=n(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},792199:(e,t,n)=>{n.d(t,{n:()=>y});var l=n(776250),i=n(395900),r=n(27087),a=n(939863),o=n(582064),s=n(392592),d=n(580857),u=n(357611),c=n(971120),p=n(508567),g=n(566083),m=n(709495);let v=e=>e===c.L.BrowseResourceTypes.FILES?"/api/feed/files":e===c.L.BrowseResourceTypes.PLUGINS?"/api/feed/plugins":e===c.L.BrowseResourceTypes.WIDGETS?"/api/feed/widgets":"/api/feed/mixed",I="community_search_duration";function y(){let e={editor_type:u.k.Editors.ALL,following:!1,price:g.C.ALL,tags:[],pagination:null,sort_by:"popular",query:"",category:null,creators:d.Z.ALL,capability_type:void 0};function t(e,t,n,l){let i={sort_by:n.sort_by,editor_type:n.editor_type,query:n.query,price:n.price,creators:n.creators,session_id:e,query_id:t,resource_type:l.resourceType},{limit:r,isPreview:a}=l;return r&&!isNaN(r)&&(i.max_num_results=r),a&&(i.limit_associations=!0),p.$W.getCommunityResources(i)}let n={sort:t=>(e.sort_by=t,n),filter:t=>(t.sort_by&&(e.sort_by=t.sort_by||m.e.Shared.POPULAR),"editor_type"in t&&t.editor_type&&(e.editor_type=t.editor_type),"following"in t&&t.following&&(e.following=t.following),"price"in t&&t.price&&(e.price=t.price),"creators"in t&&t.creators&&(e.creators=t.creators),"tags"in t&&t.tags&&(e.tags=t.tags),"pagination"in t&&t.pagination&&(e.pagination=t.pagination),"category"in t&&t.category&&(e.category=t.category),"capability_type"in t&&t.capability_type&&(e.capability_type=t.capability_type),"query"in t&&t.query&&(e.query=t.query),n),browse:function(t,n){let l=v(t),i=function(e){let t={sort_by:e.sort_by,tags:e.tags,pagination:e.pagination,editor_type:e.editor_type||u.k.Editors.ALL,category:e.category,price:e.price,creators:e.creators};return e.following&&(t.following=e.following),e.price&&(t.price=e.price),e.editor_type&&(t.editor_type=e.editor_type),e.creators&&(t.creators=e.creators),e.capability_type&&(t.capability_type=e.capability_type),t}(e);return l+=`?${new URLSearchParams(i).toString()}&include_tags=true&include_versions=true`,n&&(l+=`&page_size=${n}`),(0,r.k9)(l)},searchResourcesAndProfiles:n=>(r,d)=>{var u;let c=new i.jk(I,{});c.start();let g=(null==(u=d().search)?void 0:u.sessionId)||"unattributed",m=(0,o.M)();return Promise.all([t(g,m,e,n),function(e,t,n,l){let{profileLimit:i}=l,r={query:n.query,sessionId:e,queryId:t,maxNumResults:i||50};return p.$W.getHubProfiles(r)}(g,m,e,n)]).then(t=>{"unattributed"!==g&&r(o.N.incrementQueryCount());let i=c.stop();return(0,l.sx)(I,{elapsedMs:i,resourceResultCount:t[0].data.meta.results.length,profileResultCount:t[1].data.meta.results.length,query:e.query,isPreview:!!n.isPreview},{forwardToDatadog:!0}),t}).catch(e=>(r(s.F.enqueue({message:e.message||(0,a.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))},searchResources:(n={resourceType:"mixed"})=>(l,i)=>{var r;let d=(null==(r=i().search)?void 0:r.sessionId)||"unattributed";return t(d,(0,o.M)(),e,n).then(e=>("unattributed"!==d&&l(o.N.incrementQueryCount()),e)).catch(e=>(l(s.F.enqueue({message:e.message||(0,a.t)("community.error.search_request_failed"),error:!0,type:"community-search-error",timeoutOverride:2e3})),Promise.reject(e)))}};return n}},552993:(e,t,n)=>{n.d(t,{_W:()=>p,nN:()=>c});var l=n(411855),i=n(629019),r=n.n(i),a=n(939863),o=n(203008),s=n(498606),d=n(583718),u=n(179494),c=(e=>(e.DETAIL="detail",e.TILE="title",e.FIGJAM_PLUGIN_ROW="figjam_plugin_row",e))(c||{});function p(e){let{isSavedForUser:t,save:n,unsave:i}=(0,d.Q)(e.resourceId,e.resourceType);return l.createElement(g,{onClick:e=>{t?i():n(),e.stopPropagation()},isSaved:t,parentView:e.parentView,isFauxFocused:e.isFauxFocused})}function g(e){let t="title"===e.parentView?r()(u.YB,{[u.Xb]:!e.isSaved,[u.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?r()([u.k7,u._P],{[u.Xb]:!e.isSaved,[u.ez]:e.isSaved}):u.k7,{SaveIcon:n,SaveIconFilled:i}=l.useMemo(()=>"title"===e.parentView?{SaveIcon:o.TI,SaveIconFilled:o.rc}:{SaveIcon:o.Jv,SaveIconFilled:o.$O},[e.parentView]);return l.createElement("button",{className:t,onClick:e.onClick,"data-tooltip-type":s.Ib.TEXT,"data-tooltip":e.isSaved?(0,a.t)("community.saves.remove_from_saves"):(0,a.t)("community.saves.save")},l.createElement("div",null,e.isSaved?l.createElement(i,null):l.createElement(n,null)))}},583718:(e,t,n)=>{n.d(t,{B:()=>p,Q:()=>c});var l=n(411855),i=n(188507),r=n(499737),a=n(756085),o=n(269167),s=n(813648),d=n(279453),u=n(555328);function c(e,t){var n,c;let p=(0,a.Be)(),g=t===u.vt.PLUGIN?p.plugins[e]:p.widgets[e],m=(0,o.xp)(e),v=(0,o.aQ)(e),I=(0,i.d4)(t=>t.publishedPlugins[e]?m:v),y=(0,i.d4)(e=>e.currentUserOrgId),E=(0,r.Rs)(d.BB3,{orgId:y}),_=l.useMemo(()=>{var t,n,l;return null==(l=null==(n=null==(t=E.data)?void 0:t.currentUser)?void 0:n.installedPlugins.find(t=>t.pluginId===e))?void 0:l.id},[null==(c=null==(n=E.data)?void 0:n.currentUser)?void 0:c.installedPlugins,e]),{unsave:w,save:f}=(0,s._i)(e,t,I,_);return{unsave:w,save:f,isSavedForUser:!!(g&&"user"===g.installed_by),isSavedForOrg:!!(g&&"org"===g.installed_by),version:g}}function p(e){let t=!!e&&"user"===e.installed_by,n=!!e&&"org"===e.installed_by,{save:i,unsave:r}=(0,s._i)(e.plugin_id,u.vt.PLUGIN),a=l.useCallback((e,l)=>{n||(t?r(l):i(e,l))},[n,t,r,i]);return{isSavedForUser:t,isSavedForOrg:n,onSaveClick:a}}},76154:(e,t,n)=>{n.d(t,{Cg:()=>eT,GJ:()=>ez,R7:()=>em,dr:()=>eV,ff:()=>ef,tO:()=>ej,yG:()=>eG});var l=n(411855),i=n(188507),r=n(629019),a=n.n(r),o=n(517333);if(443==n.j)var s=n(860601);var d=n(572174),u=n(563042),c=n(946689),p=n(723325),g=n(574176),m=n(348425),v=n(762638),I=n(939863),y=n(278733),E=n(175290),_=n(365292),w=n(408552),f=n(251288),b=n(829488),C=n(466636),T=n(545941),h=n(738269),R=n(931828),F=n(235629),P=n(672517),N=n(780700),k=n(756085),B=n(988022),S=n(269167),A=n(641638),D=n(662531),x=n(170786),O=n(318812),L=n(694687),U=n(99506),M=n(215822),j=n(555328),W=n(376485),V=n(498606),G=n(18993),z=n(978527),$=n(464628),H=n(399932),Z=n(933464),q=n(943089),Y=n(507956),J=n(206074),Q=n(227795),K=n(927206);if(443==n.j)var X=n(503733);var ee=n(33876),et=n(103567),en=n(552993),el=n(172226),ei=n(632788),er=n(760445),ea=n(76158),eo=n(179494),es=n(292164),ed=n(362679),eu=n(13556);if(443==n.j)var ec=n(665150);if(443==n.j)var ep=n(111431);var eg=n(237494),em=(e=>(e.COMMUNITY="community",e.RECENT="recent",e.DEVELOPMENT="development",e.DEVELOPMENT_MISSING_LOCAL="development_missing_local",e.ORG_PRIVATE="org_private",e.SAVED="saved",e.INVITED="invited",e))(em||{});function ev(e){var t,n;let r=(0,i.d4)(e=>e.orgById);if(e.resource.is_private){let i=(null==(t=e.resource)?void 0:t.org_id)&&(null==(n=r[e.resource.org_id])?void 0:n.name);return l.createElement(g.B,{svg:eg.A,className:eo.kQ,"data-tooltip-type":V.Ib.TEXT,"data-tooltip":i?(0,I.t)("community.plugins.private_for_plugin_org_name",{orgName:i}):(0,I.t)("community.plugins.private_for_plugin_org")})}return l.createElement(l.Fragment,null)}let eI=l.createContext(null);function ey(){return(0,d.sR)(l.useContext(eI),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let eE=l.createContext(null);function e_(){return(0,d.sR)(l.useContext(eE),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function ew(e,t,n){let i=l.useRef(null),r=l.useCallback(()=>{i.current&&i.current.click()},[i]),{setKeyboardNavigationElement:a,isFauxFocused:o,keyboardNavigationItem:s}=(0,p.M3)({path:t||[0],fauxClick:r,id:e}),d=n&&t&&t.length>=2&&t[0]===er.B6&&0===t[1];return l.useEffect(()=>{d&&(null==s||s.fauxFocus())},[d,s]),{setKeyboardNavigationElement:a,isFauxFocused:o,keyboardNavigationButtonRef:i}}function ef({resourceId:e,type:t,keyboardNavigationPath:n,shouldFocusFirstItem:i}){let r;let{activeTab:a,viewResource:o}=(0,er.IT)(),s=(0,k.$1)(),d="development"===t?Object.values(s).find(t=>String(t.localFileId)===e):null,u=null==d?void 0:d.plugin_id,c=l.useCallback(()=>o({id:u??e}),[e,o,u]),p=l.useMemo(()=>a===ea.s.WIDGET?{viewWidgetDetails:c,keyboardNavigationPath:n,shouldFocusFirstItem:i}:{viewPluginDetails:c,keyboardNavigationPath:n,shouldFocusFirstItem:i},[a,n,c,i]);if(a===ea.s.WIDGET){switch(t){case"community":r=l.createElement(eL,{widgetId:e});break;case"recent":r=l.createElement(eS,{widgetId:e,type:"recent"});break;case"development":r=l.createElement(ex,{localFileId:e});break;case"development_missing_local":r=l.createElement(ex,{widgetId:e});break;case"org_private":r=l.createElement(eD,{widgetId:e});break;case"saved":r=l.createElement(eA,{widgetId:e,type:"saved"});break;case"invited":r=l.createElement(eO,{widgetId:e});break;default:return null}return l.createElement(eI.Provider,{value:p},r)}switch(t){case"community":r=l.createElement(eC,{pluginId:e});break;case"recent":r=l.createElement(eb,{pluginId:e});break;case"development":r=l.createElement(eP,{localFileId:e});break;case"development_missing_local":r=l.createElement(eP,{pluginId:e});break;case"org_private":r=l.createElement(eN,{pluginId:e});break;case"saved":r=l.createElement(eR,{pluginId:e,type:"saved"});break;case"invited":r=l.createElement(eh,{pluginId:e});break;default:return null}return l.createElement(eE.Provider,{value:p},r)}function eb({pluginId:e}){let t=(0,k.b4)()[e],n=(0,k.cW)()[e],i=(0,S.tw)(n);return t?(0,W.ZQ)(t)?l.createElement(eP,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:l.createElement(eR,{pluginId:t.plugin_id,type:"recent"}):null}function eC(e){let t=(0,k.cW)()[e.pluginId];if(e.plugin&&(t=e.plugin),!t)return null;let n=(0,M.uF)(t),{description:i,tagline:r}=n,a=(0,er.fO)(t),o=l.createElement(l.Fragment,null,l.createElement("div",{className:eo.y7},(0,T.G8)({tagline:r,description:i},u.$J)),l.createElement("div",{className:eo.Yl},a));return l.createElement(eB,{pluginVersion:n,subheader:o,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function eT({plugin:e,ctaButton:t,onClick:n}){let i={viewPluginDetails:s.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return l.createElement(eE.Provider,{value:i},l.createElement(eC,{pluginId:e.id,plugin:e,ctaButton:t,alwaysShowCta:!0,isDevModeWizard:!0,onClick:n}))}function eh(e){let t=(0,k.cW)()[e.pluginId],n=(0,i.wA)(),r=l.useCallback(()=>{n(h.oB())},[n]);if(!t)return null;let a=(0,M.uF)(t),{description:o,tagline:s}=a,d=l.createElement(l.Fragment,null,l.createElement("div",{className:eo.Pg},(0,T.G8)({tagline:s,description:o},u.$J)),l.createElement("div",{className:eo.Yl},(0,er.fO)(t)));return l.createElement(l.Fragment,null,l.createElement(eB,{pluginVersion:a,subheader:d,pluginId:e.pluginId,onClick:r,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:l.createElement(et.PE,{resource:t})}))}let eR=l.memo(function(e){let t=(0,k.Be)(),n=t.plugins[e.pluginId]||t.orgPlugins[e.pluginId],i=(0,k.b4)()[e.pluginId],r=(0,k.cW)()[e.pluginId],a=l.useMemo(()=>"recent"===e.type?i:"org_private"===e.type?(0,M.uF)(r):n,[n,e.type,r,i]),o=(0,O.U)(),s=(null==o?void 0:o.type)===ei._n&&o.data.pluginId===e.pluginId&&o.data.targetRect&&o.data.viewType===e.type,d=eG(e.pluginId,e.type);return l.createElement(eF,{pluginId:e.pluginId,type:e.type,dropdownIsShown:s,runOptionsDropdownIsShown:d,version:a})}),eF=l.memo(function(e){var t;let{dropdownIsShown:n,version:r}=e,a=(0,i.wA)(),{viewPluginDetails:o}=e_(),s=l.useCallback(t=>{t.stopPropagation(),n?a(h.oB()):a(h.j7({type:ei._n,data:{pluginId:e.pluginId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[n,a,e.pluginId,e.type]),d=(0,N.dR)(e.pluginId,"universal-insert"),u=(0,N.Gt)(e.pluginId,"universal-insert"),c=(0,F.t0)(e.pluginId,u,d),p=c.length>0,g=e.runOptionsDropdownIsShown&&p,m=l.useRef(null),{validatePublishedPluginInOrgAllowlist:v,isPluginBlockedByAllowlist:I}=(0,k.j1)(e.pluginId),y=(0,N.RK)(e.pluginId),E=l.useCallback(t=>{if(null==t||t.stopPropagation(),v()){if(p){g?a(h.oB()):a(eV({pluginId:e.pluginId,tileType:e.type}));return}y?u():d(),a(R.b({seen_published_plugin_onboarding_modal:!0})),a(R.b({seen_development_plugin_onboarding_modal:!0}))}},[v,p,y,a,g,e.pluginId,e.type,u,d]),_=null==(t=m.current)?void 0:t.getBoundingClientRect();if(!r)return null;let w=!!(g&&_)||n,f=l.createElement(en._W,{resourceId:e.pluginId,resourceType:j.vt.PLUGIN,parentView:en.nN.TILE,isFauxFocused:w});return l.createElement("div",null,l.createElement(eB,{pluginVersion:r,pluginId:e.pluginId,onOptionsClick:s,optionsButtonIsActive:n,onClick:E,showOnClickDropdownChevron:p,secondaryIcon:l.createElement(ev,{resource:r}),primaryCTAButton:f,isFauxFocused:w,visuallyDisabled:I}),l.createElement("div",{ref:m}),g&&_&&l.createElement(J.j,{showPoint:!1,lean:"center",items:c,onSelectItem:e=>{e.callback&&e.callback("",null,a)},parentRect:_,dispatch:a}),n&&l.createElement(ei.EJ,{viewResource:o,plugin:r}))});function eP(e){var t;let n=(0,i.wA)(),r=(0,k.nl)({allowNonVsCodePluginsInVsCode:!0}),a=e.localFileId?r[e.localFileId]:void 0,o=a?a.plugin_id:e.pluginId,s=(0,k.kd)({includePendingPublishers:!1}).find(e=>e.id===o),d=s?(0,M.uF)(s):void 0,u=(0,O.U)(),{viewPluginDetails:c}=e_(),p=(null==u?void 0:u.type)===ei.lD&&(null==u?void 0:u.data.localFileId)===e.localFileId&&(null==u?void 0:u.data.pluginId)===o,m=l.useCallback(t=>{if(t.stopPropagation(),p)n(h.oB());else{let l=t.currentTarget.getBoundingClientRect();n(h.j7({type:ei.lD,data:{localFileId:e.localFileId,pluginId:o,targetRect:l}}))}},[n,e.localFileId,o,p]),v=(0,N.Gt)(o,"universal-insert"),y=(0,N.dR)(o,"universal-insert"),E=(0,F.t0)(o,v,y),w=E.length>0,f=l.useRef(null),b=null==(t=f.current)?void 0:t.getBoundingClientRect(),C=eG(o,e.isRecentTile?"recent_development":"development")&&w,R=l.useCallback(()=>{if(w){C?n(h.oB()):o&&n(eV({pluginId:o,tileType:e.isRecentTile?"recent_development":"development"}));return}y()},[w,y,C,n,o,e.isRecentTile]);if(!a&&!s)return null;let P=l.createElement(ee.A,{localResource:a,publishedResource:s}),B=s&&(0,T.AC)(s),S=s&&(null==d?void 0:d.redirect_icon_url),A=s&&!B?s.roles.is_public?ec.A:eg.A:void 0,D=l.createElement(_.Ex,{height:"16"},l.createElement("span",null,l.createElement(I.Tx,{id:"universal_insert.development"})));return l.createElement(l.Fragment,null,l.createElement(eB,{pluginVersion:d,localPlugin:a,subheader:P,icon:S?void 0:l.createElement(g.B,{svg:ep.A,className:eo.Bx}),secondaryIcon:D,pluginId:o,onOptionsClick:m,onClick:R,optionsButtonIsActive:p,showOnClickDropdownChevron:w,showEditorTypeIcon:!1,publishingStatusIcon:A,inReview:B}),l.createElement("div",{ref:f}),C&&b&&l.createElement(J.j,{showPoint:!1,lean:"center",items:E,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:b,dispatch:n}),p&&(a?l.createElement(ei.T9,{localResource:a,viewResource:c}):l.createElement(ei.T9,{publishedResource:s,viewResource:c})))}function eN(e){return(0,k.cW)()[e.pluginId]?l.createElement(eR,{pluginId:e.pluginId,type:"org_private"}):null}function ek({pluginId:e,name:t,icon:n,iconUrl:i}){let[r,o]=l.useState(!!n);return l.createElement("div",{className:a()(r?eo.lP:eo.vt)},n||l.createElement(z.V,{plugin:{name:t,plugin_id:e,redirect_icon_url:i??""},loading:"lazy",alt:`${t} icon`,onLoad:()=>o(!0)}))}function eB(e){var t,n,i,r;let o;let s=(null==(t=e.pluginVersion)?void 0:t.name)??(null==(n=e.localPlugin)?void 0:n.name)??"",d=null==(i=e.pluginVersion)?void 0:i.redirect_icon_url,{isPluginSetToAutoRun:u}=(0,G.bE)(e.pluginVersion??null),c=e.localPlugin?e.localPlugin.manifest.editorType:null==(r=e.pluginVersion)?void 0:r.manifest.editorType,p=!e.subheader,{viewPluginDetails:b,keyboardNavigationPath:C,shouldFocusFirstItem:T}=e_(),{setKeyboardNavigationElement:h,isFauxFocused:R,keyboardNavigationButtonRef:F}=ew(`plugin_${s}`,C,!!T),N=(0,P.j6)(),D=(0,S.ul)(e.pluginId),x=Object.values((0,k.$1)()).find(t=>String(t.plugin_id)===e.pluginId),O=(0,M.uF)(D),U=(0,M.pk)(O),j=(0,S.EO)(D)&&!x,W=(0,S.OY)(D),z=(0,S.gn)(D)&&!x,$=(0,L.sZ)(),H=(0,k.ll)(),Z=!x&&(0,A.BF)({org:$,extensionVersion:O??e.pluginVersion,isWidget:!1,allowlistedExtensions:H}),J=e.isCommunityPreview&&!Z&&!e.isDevModeWizard,X=j&&!W?l.createElement(e$,{plugin:D,hideFreeTrialBadge:!0}):z?l.createElement(K.ur,null):J?l.createElement(ej,{pluginId:e.pluginId,buttonRef:F}):void 0,ee=(0,w.QP)({resource:D,height:"16",validBadges:[w.op.FREEMUM,w.op.OFF_PLATFORM,w.op.PURCHASED]}),et=e.metadataOverrideNode??l.createElement(l.Fragment,null,l.createElement("div",{className:eo.FV},l.createElement(E.Y,{spacing:4},l.createElement("div",{className:a()(eo.B6,{[v.cx.colorTextDisabled.$]:e.visuallyDisabled})},s),u&&l.createElement(_.Ex,{height:"16"},(0,I.t)("universal_insert.auto_run")),e.inReview&&l.createElement(f.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,ee&&!z&&l.createElement("div",{className:eo.UK},ee),e.publishingStatusIcon&&l.createElement("div",{className:v.cx.colorIcon.$},l.createElement(m.t,{svg:e.publishingStatusIcon})),e.showOnClickDropdownChevron&&l.createElement(g.B,{svg:es.A,className:eo.o2})),e.subheader&&l.createElement("div",{className:eo.ZK},e.subheader)),X&&l.createElement("div",{className:eo.D1},X),e.onOptionsClick&&l.createElement(Q.K0,{svg:ed.A,fallbackSvg:eu.A,className:e.optionsButtonIsActive?eo.F$:eo.D1,onClick:e.onOptionsClick,"data-tooltip-type":V.Ib.TEXT,"data-tooltip":(0,I.t)("universal_insert.more_options")}),e.primaryCTAButton&&l.createElement("div",{style:y.sx.add({alignSelf:"center"}).$},e.primaryCTAButton)),en=function(e,t){if((0,Y.ks)());else if(e&&t)return!0;return!1}(e.showEditorTypeIcon,c),el=(0,Y.ks)();o=en?l.createElement(q.li.IconAndBadgeContainer,null,l.createElement(ek,{pluginId:e.pluginId,name:s,iconUrl:d,icon:e.icon}),l.createElement(q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},l.createElement(q.dn,{editorType:c,is16x16:!0}))):el&&U?l.createElement(q.li.IconAndBadgeContainer,null,l.createElement(ek,{pluginId:e.pluginId,name:s,icon:e.icon,iconUrl:d}),l.createElement(q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},l.createElement(q.ZA,null))):l.createElement(ek,{pluginId:e.pluginId,name:s,icon:e.icon,iconUrl:d});let ei=()=>{if((0,B.Cu)({trackingContext:N.name,pluginId:e.pluginId}),j&&!W||Z){b();return}if(e.onClick){e.onClick();return}b()};return l.createElement("div",{className:a()(p?eo.$C:eo.MJ,R||e.isFauxFocused?eo.c6:void 0,e.isDevModeWizard?eo.NH:void 0),onClick:ei,role:"button",tabIndex:0,ref:C?h:void 0},l.createElement("button",{onClick:e=>{e.stopPropagation(),ei()},ref:J?void 0:F,"data-testid":"plugin-tile-button"}),l.createElement("div",{className:eo.ot},e.isNotification&&l.createElement("div",{className:eo.Vx}),o),et)}function eS(e){let t=(0,k.YO)()[e.widgetId],n=(0,k.ZT)()[e.widgetId],i=(0,S.tw)(n);return t?(0,W.ZQ)(t)?l.createElement(ex,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:l.createElement(eA,{widgetId:e.widgetId,type:"recent"}):null}function eA(e){var t;let n=(0,i.wA)(),{viewWidgetDetails:r}=ey(),a=(0,k.ZT)()[e.widgetId],s=(0,k.Be)().widgets[e.widgetId],d=(0,k.YO)()[e.widgetId],u="recent"===e.type?d:"org_private"===e.type?(0,M.uF)(a):s,c=(0,O.U)(),p=(null==c?void 0:c.type)===ei._n&&c.data.widgetId===e.widgetId&&c.data.targetRect&&c.data.viewType===e.type,g=(0,k.Ud)(e.widgetId),m=l.useRef(null),v=(0,k.WK)(e.widgetId),I=o.eD&&!!g&&!v,y=!!v||I,E=(0,O.U)(),_=l.useRef(null),w=(null==c?void 0:c.type)===el.cH&&c.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:f}=(0,k.Ys)(e.widgetId),b=l.useCallback(t=>{if(y){if(t.preventDefault(),t.stopPropagation(),w)n(h.oB());else{let l=t.currentTarget.getBoundingClientRect();n(h.j7({type:el.cH,data:{targetRect:l,widgetId:e.widgetId}}))}}},[n,e.widgetId,w,y]),C=l.useCallback(()=>{(0,x.j)({pluginID:e.widgetId,widgetName:u.name,pluginVersionID:u.id,triggeredFrom:"universal-insert"})},[u,e.widgetId]),T=l.useCallback(e=>{y?b(e):D.l7.user("insert-published-widget",()=>{C()})},[C,b,y]),R=l.useCallback(t=>{t.stopPropagation(),p?n(h.oB()):n(h.j7({type:ei._n,data:{widgetId:e.widgetId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[p,n,e.widgetId,e.type]);if(!u)return null;if((0,W.ZQ)(u))return l.createElement(ex,{localFileId:u.localFileId.toString()});let F=null==(t=_.current)?void 0:t.getBoundingClientRect(),P=!!(E&&F)||p,N=l.createElement(en._W,{resourceId:e.widgetId,resourceType:j.vt.WIDGET,parentView:en.nN.TILE,isFauxFocused:P});return l.createElement("div",null,l.createElement(eM,{widget:u,localWidget:v,subheader:(0,er.CF)(u),iconUrl:u.redirect_snapshot_url??void 0,widgetId:e.widgetId,useHorizontalLayout:!0,optionsButtonIsActive:p,onOptionsClick:R,onClick:T,secondaryIcon:l.createElement(ev,{resource:u}),primaryCTAButton:N,isFauxFocused:P,visuallyDisabled:f}),l.createElement("div",{ref:m}),E&&F&&l.createElement(ei.NR,{targetRect:F,widgetId:e.widgetId,lean:"center"}),p&&l.createElement(ei.EJ,{viewResource:r,plugin:u}))}function eD(e){return(0,k.ZT)()[e.widgetId]?l.createElement(eA,{widgetId:e.widgetId,type:"org_private"}):null}function ex(e){let t=(0,i.wA)(),n=(0,k.yQ)(),r=l.useMemo(()=>e.localFileId?n[e.localFileId]:void 0,[n,e.localFileId]),a=(0,k.jg)(),o=r?r.plugin_id:e.widgetId,s=(0,k.bh)({includePendingPublishers:!1}),d=l.useMemo(()=>Object.values(s).find(e=>e.id===o),[s,o]),u=l.useMemo(()=>d&&d.current_plugin_version_id?d.versions[d.current_plugin_version_id]:void 0,[d]),c=(0,O.U)(),{viewWidgetDetails:p}=ey(),g=(null==c?void 0:c.type)===Z.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&(null==c?void 0:c.data.isRecentTile)===e.isRecentTile&&(null==c?void 0:c.data.localFileId)===e.localFileId&&(null==c?void 0:c.data.pluginId)===o&&(null==c?void 0:c.data.targetRect),m=l.useCallback(n=>{if(n.stopPropagation(),g)t(h.oB());else{let l=n.currentTarget.getBoundingClientRect();t(h.j7({type:Z.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:o,isRecentTile:e.isRecentTile,targetRect:l}}))}},[t,e.localFileId,o,e.isRecentTile,g]),v=l.useCallback(()=>{r&&(0,x.j)({pluginID:r.plugin_id,widgetName:r.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[r]);if(!r&&!d)return null;let I=l.createElement(ee.A,{localResource:r,publishedResource:d}),y=d&&(0,T.AC)(d),E=d&&(0,M.uF)(d).redirect_snapshot_url||e.localFileId&&a[e.localFileId]&&a[e.localFileId].metadata.widgetSnapshotImageSrc||X.J,_=d&&!y?d.roles.is_public?ec.A:eg.A:void 0;return l.createElement(l.Fragment,null,l.createElement(eM,{widget:u,localWidget:r,subheader:I,iconUrl:E,widgetId:o,onClick:()=>v(),onOptionsClick:m,optionsButtonIsActive:g,useHorizontalLayout:!0,showEditorTypeIcon:!1,publishingStatusIcon:_,inReview:y}),g&&(r?l.createElement(ei.T9,{localResource:r,viewResource:p}):l.createElement(ei.T9,{publishedResource:d,viewResource:p})))}function eO(e){let{widgetId:t}=e,n=(0,k.ZT)()[t]??null;if(!n)return null;let i=(0,M.uF)(n),{redirect_snapshot_url:r,manifest:a}=i;return l.createElement(eM,{widget:i,iconUrl:r??void 0,widgetId:n.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:a.editorType,isNotification:!0,metadataOverrideNode:l.createElement(et.PE,{resource:n})})}function eL(e){let t=(0,S.J$)(e.widgetId);if(!t)return null;let n=(0,M.uF)(t),i=(0,er.fO)(t),r=l.createElement(l.Fragment,null,l.createElement("div",{className:eo.rz},(0,T.G8)(n,u.$J)),l.createElement("div",{className:eo.Yl},i));return l.createElement(eM,{widget:n,subheader:r,iconUrl:n.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eU({useHorizontalLayout:e=!1,onIconClick:t,disabled:n,iconUrl:r="",widget:a,publishedWidget:o,keyboardNavigationButtonRef:s}){let d=l.useMemo(()=>e?[w.op.PRICE]:[w.op.PURCHASED,w.op.OFF_PLATFORM,w.op.FREEMUM,w.op.PRICE],[e]),u=(0,i.d4)(e=>e.authedActiveCommunityProfile);return l.createElement("div",{className:e?eo.Zv:eo.Cq,onClick:t,role:"button",tabIndex:0},n?l.createElement($.z,{src:r,context:U._Y.DESIGN}):l.createElement(H._,{widget:a,src:r,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:s,context:U._Y.DESIGN}),l.createElement("div",{className:eo.VJ},(0,w.$3)({resource:o,authedActiveCommunityProfile:u,validBadges:d,height:e?"16":"24"})))}let eM=l.memo(function(e){let t=e.localWidget??e.widget??M.lT,{viewWidgetDetails:n,keyboardNavigationPath:i,shouldFocusFirstItem:r}=ey(),{setKeyboardNavigationElement:o,isFauxFocused:s,keyboardNavigationButtonRef:d}=ew(`widget_${t.name}`,i,!!r),u=(0,k.ZT)()[e.widgetId],c=(0,S.EO)(u),p=(0,S.gn)(u),g=u?(0,M.uF)(u):null,_=t.name;(null==g?void 0:g.name)&&(null==g?void 0:g.name)!==""&&(_=null==g?void 0:g.name);let w=(0,L.sZ)(),b=(0,k.U6)(),C=!e.localWidget&&(0,A.BF)({org:w,extensionVersion:g??e.widget,isWidget:!0,allowlistedExtensions:b}),T=!!(c||C),h=(0,P.j6)(),R=T?void 0:e=>e.stopPropagation(),F=e.metadataOverrideNode??l.createElement(l.Fragment,null,l.createElement("div",{className:eo.QF},l.createElement("div",{className:eo.JW},l.createElement(E.Y,{spacing:4,verticalAlignItems:"center"},l.createElement("div",{className:a()(eo.Y2,{[v.cx.colorTextDisabled.$]:e.visuallyDisabled})},_),e.inReview&&l.createElement(f.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&l.createElement("div",{className:v.cx.colorIcon.$},l.createElement(m.t,{svg:e.publishingStatusIcon})),p&&l.createElement("div",{className:eo.Y9},l.createElement(K.xY,null)))),l.createElement("div",{className:eo.ML},e.subheader)),e.onOptionsClick&&l.createElement(Q.K0,{svg:ed.A,fallbackSvg:eu.A,className:e.optionsButtonIsActive?eo.F$:eo.D1,onClick:e.onOptionsClick,"data-tooltip-type":V.Ib.TEXT,"data-tooltip":(0,I.t)("universal_insert.more_options")}),e.primaryCTAButton&&l.createElement("div",{style:y.sx.add({alignSelf:"center"}).$},e.primaryCTAButton));return l.createElement("div",{className:a()(e.useHorizontalLayout?eo.Gy:eo.BG,s?eo.c6:void 0),onClick:t=>{(0,B.Cu)({trackingContext:h.name,widgetId:e.widgetId}),T?n():e.onClick?e.onClick(t):n()},role:"button",tabIndex:0,ref:i?o:void 0,"data-testid":"widget-tile"},l.createElement("div",{className:eo.ot},e.isNotification&&l.createElement("div",{className:eo.Vx}),e.showEditorTypeIcon?l.createElement(q.li.IconAndBadgeContainer,null,l.createElement(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:T,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:d}),l.createElement(q.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget"},l.createElement(q.dn,{editorType:e.editorType,is16x16:!0}))):l.createElement(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:T,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:d})),F)});function ej(e){var t;let n=(0,i.wA)(),r=l.useRef(null),a=(0,O.U)(),o=(0,k.JI)(),s=(0,Y.ks)(),d=(0,N.dR)(e.pluginId,"universal-insert"),u=(0,N.Gt)(e.pluginId,"universal-insert"),p=(0,F.t0)(e.pluginId,u,d),m=p.length>0,v=eG(e.pluginId,"community"),y=m&&(null==a?void 0:a.type)===e.dropdownShownType&&(null==a?void 0:a.data.pluginId)===e.pluginId,E=v||y,{validatePublishedPluginInOrgAllowlist:_}=(0,k.j1)(e.pluginId),w=(0,N.RK)(e.pluginId),f=l.useCallback(t=>{if(t.stopPropagation(),_()){if(m){E?n(h.oB()):(e.dropdownShownType&&n(h.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),n(eV({pluginId:e.pluginId,tileType:"community"})));return}w?u():d(),n(R.b({seen_published_plugin_onboarding_modal:!0})),n(R.b({seen_development_plugin_onboarding_modal:!0}))}},[_,m,w,n,E,e.dropdownShownType,e.pluginId,u,d]);if(s&&!o)return null;let b=null==(t=r.current)?void 0:t.getBoundingClientRect(),C=e.usePrimaryButtonStyles?l.createElement(c.$$,{onClick:f,className:eo.lI},l.createElement(I.Tx,{id:"universal_insert.run"}),m&&l.createElement(g.B,{svg:es.A,className:eo.sI})):l.createElement("button",{className:eo.lO,onClick:f,ref:e.buttonRef},l.createElement(I.Tx,{id:"universal_insert.run"}),m&&l.createElement(g.B,{svg:es.A,className:eo.zZ}));return l.createElement("div",{className:e.usePrimaryButtonStyles?eo.od:void 0,"data-testid":"run-plugin-button"},l.createElement("div",{ref:r},C),E&&b&&l.createElement(J.j,{showPoint:!1,items:p,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:b,dispatch:n,lean:"left"}))}let eW="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function eV(e){return h.j7({type:eW,data:e})}function eG(e,t){let n=(0,O.U)();return(null==n?void 0:n.type)===eW&&n.data.pluginId===e&&t===n.data.tileType}function ez(e){var t;let n=(0,i.wA)(),r=(0,k.ZT)()[e.widgetId],a=(0,k.WK)(e.widgetId),s=(0,k.Ud)(e.widgetId),d=o.eD&&!!s&&!a,u=!!a||d,p=(0,O.U)(),m=(null==p?void 0:p.type)===el.cH&&p.data.widgetId===e.widgetId,v=l.useRef(null),y=l.useCallback(t=>{if(u){if(t.preventDefault(),t.stopPropagation(),m)n(h.oB());else{let l=t.currentTarget.getBoundingClientRect();n(h.j7({type:el.cH,data:{targetRect:l,widgetId:e.widgetId}}))}}},[n,e.widgetId,m,u]),E=l.useCallback(()=>{let e=(0,M.uF)(r);(0,x.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[r]),_=l.useCallback(e=>{u?y(e):D.l7.user("insert-published-widget",()=>{E()})},[E,y,u]);if(!r)return null;let w=l.createElement(c.$$,{onClick:_,className:eo.lI},l.createElement(I.Tx,{id:"universal_insert.add"}),u&&l.createElement(g.B,{svg:es.A,className:eo.sI})),f=null==(t=v.current)?void 0:t.getBoundingClientRect();return l.createElement("div",{className:eo.od},l.createElement("div",{ref:v},w),m&&f&&l.createElement(ei.NR,{targetRect:f,widgetId:e.widgetId}))}function e$(e){let t=(0,S.lt)(e.plugin);return e.plugin.monetized_resource_metadata?l.createElement("div",{className:eo.y2},l.createElement("div",{className:eo.lO},(0,C.bV)(e.plugin.monetized_resource_metadata)),!e.hideFreeTrialBadge&&(0,C.Lt)({resource:e.plugin,payment:t})&&l.createElement(b.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})):null}},324666:(e,t,n)=>{function l(){return null}n.d(t,{GO:()=>g,H5:()=>i,Mr:()=>y,Qc:()=>s,go:()=>o,j8:()=>m,kD:()=>r,l:()=>p,li:()=>c,lt:()=>a,mh:()=>I,oT:()=>v,rC:()=>d,rf:()=>u});let i=l,r=l,a=l,o=l,s=l,d=l,u=l,c=l,p=l,g=l,m=l,v=l,I=l,y=l}}]);

//# debugId=45fa3c13-67a9-5bb1-9394-33e5fd49f9ef

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/454a612d9cc34ee9d4150d722f2926bd958074b0/8044-1ad78b71c1e424a0.min.js.map